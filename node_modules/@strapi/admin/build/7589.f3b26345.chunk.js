"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[7589],{17589:(tn,ee,a)=>{a.r(ee),a.d(ee,{default:()=>Qt});var n=a(32735),s=a(10938),Re=a(59290),A=a.n(Re),Be=a(98599),Me=a.n(Be),De=a(88677),Ie=a.n(De),Se=a(95717),te=a.n(Se),k=a(44526),Ze=a(58434),z=a(19192),L=a(90662),E=a(9808),ne=a(11856),Fe=a(33795),b=a.n(Fe),Ae=a(23973),ke=a.n(Ae),Ne=a(89793),oe=a.n(Ne),je=a(23940),re=a.n(je),N=a(5636),K=a(5141),Ve=a(60216),r=a.n(Ve),T=a(95602),C=a(53214),ae=a(84218),I=a(55389),g=a(19615),h=a(97123),Ue=a(94009),We=a.n(Ue),ze=a(16925);const le=(0,g.default)(ze.G)`
  width: ${(0,s.pxToRem)(32)} !important;
  height: ${(0,s.pxToRem)(32)} !important;
  padding: ${(0,s.pxToRem)(9)};
  border-radius: ${(0,s.pxToRem)(64)};
  background: ${({theme:e})=>e.colors.neutral150};
  path {
    fill: ${({theme:e})=>e.colors.neutral500};
  }
`,ie=g.default.div`
  position: absolute;
  display: none;
  top: 5px;
  right: ${(0,s.pxToRem)(8)};

  svg {
    width: ${(0,s.pxToRem)(10)};
    height: ${(0,s.pxToRem)(10)};
    path {
      fill: ${({theme:e})=>e.colors.primary600};
    }
  }
`,Ke=(0,g.default)(E.Box)`
  flex-shrink: 0;
  width: ${(0,s.pxToRem)(140)};
  height: ${(0,s.pxToRem)(80)};
  position: relative;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  background: ${({theme:e})=>e.colors.neutral100};
  border-radius: ${({theme:e})=>e.borderRadius};
  display: flex;
  justify-content: center;
  align-items: center;

  &.active,
  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    background: ${({theme:e})=>e.colors.primary100};

    ${ie} {
      display: block;
    }

    ${le} {
      background: ${({theme:e})=>e.colors.primary200};
      path {
        fill: ${({theme:e})=>e.colors.primary600};
      }
    }

    ${T.Typography} {
      color: ${({theme:e})=>e.colors.primary600};
    }
  }
`,He=(0,g.default)(L.Stack)`
  align-items: center;
`;function H({component:e,dzName:t,index:o,isActive:i,isInDevelopmentMode:c,onClick:d}){const{modifiedData:u,removeComponentFromDynamicZone:y}=(0,I.Z)(),{schema:{icon:m,displayName:f}}=b()(u,["components",e],{schema:{icon:null}}),v=l=>{l.stopPropagation(),y(t,o)};return n.createElement("button",{type:"button",onClick:d},n.createElement(Ke,{className:i?"active":"",borderRadius:"borderRadius",paddingLeft:4,paddingRight:4},n.createElement(He,{spacing:1},n.createElement(le,{icon:m}),n.createElement(E.Box,{maxWidth:`calc(${(0,s.pxToRem)(140)} - 32px)`},n.createElement(T.Typography,{variant:"pi",fontWeight:"bold",ellipsis:!0},f))),c&&n.createElement(ie,{role:"button",tabIndex:0,onKeyDown:l=>(l.key==="Enter"||l.key===" ")&&v(l),onClick:v},n.createElement(We(),null))))}H.defaultProps={component:null,isActive:!1,isInDevelopmentMode:!1,onClick:()=>{}},H.propTypes={component:r().string,dzName:r().string.isRequired,index:r().number.isRequired,isActive:r().bool,isInDevelopmentMode:r().bool,onClick:r().func};const Ge=H,se=g.default.tr`
  &.component-row,
  &.dynamiczone-row {
    position: relative;
    border-top: none !important;

    table tr:first-child {
      border-top: none;
    }

    > td:first-of-type {
      padding: 0 0 0 ${(0,s.pxToRem)(20)};
      position: relative;

      &::before {
        content: '';
        width: ${(0,s.pxToRem)(4)};
        height: calc(100% - 40px);
        position: absolute;
        top: -7px;
        left: 1.625rem;
        border-radius: 4px;

        ${({isFromDynamicZone:e,isChildOfDynamicZone:t,theme:o})=>t?`background-color: ${o.colors.primary200};`:e?`background-color: ${o.colors.primary200};`:`background: ${o.colors.neutral150};`}
      }
    }
  }

  &.dynamiczone-row > td:first-of-type {
    padding: 0;
  }
`;function G({customRowComponent:e,component:t,isFromDynamicZone:o,isNestedInDZComponent:i,firstLoopComponentUid:c}){const{modifiedData:d}=(0,I.Z)(),{schema:{attributes:u}}=b()(d,["components",t],{schema:{attributes:[]}});return n.createElement(se,{isChildOfDynamicZone:o,className:"component-row"},n.createElement("td",{colSpan:12},n.createElement(he,{customRowComponent:e,items:u,targetUid:t,firstLoopComponentUid:c||t,editTarget:"components",isFromDynamicZone:o,isNestedInDZComponent:i,isSub:!0,secondLoopComponentUid:c?t:null})))}G.defaultProps={component:null,customRowComponent:null,firstLoopComponentUid:null,isFromDynamicZone:!1,isNestedInDZComponent:!1},G.propTypes={component:r().string,customRowComponent:r().func,firstLoopComponentUid:r().string,isFromDynamicZone:r().bool,isNestedInDZComponent:r().bool};const ce=G;var Xe=Object.defineProperty,Je=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,pe=(e,t,o)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,_e=(e,t)=>{for(var o in t||(t={}))Ye.call(t,o)&&pe(e,o,t[o]);if(de)for(var o of de(t))qe.call(t,o)&&pe(e,o,t[o]);return e},et=(e,t)=>Je(e,Qe(t));const tt=(0,g.default)(A())`
  width: ${(0,s.pxToRem)(32)};
  height: ${(0,s.pxToRem)(32)};
  padding: ${(0,s.pxToRem)(9)};
  border-radius: ${(0,s.pxToRem)(64)};
  background: ${({theme:e})=>e.colors.primary100};
  path {
    fill: ${({theme:e})=>e.colors.primary600};
  }
`,nt=(0,g.default)(E.Box)`
  height: ${(0,s.pxToRem)(90)};
  position: absolute;
  width: 100%;
  top: 0;
  left: 0;
`,ot=(0,g.default)(L.Stack)`
  width: 100%;
  overflow-x: auto;
`,rt=(0,g.default)(E.Box)`
  padding-top: ${(0,s.pxToRem)(90)};
`,at=(0,g.default)(L.Stack)`
  flex-shrink: 0;
  width: ${(0,s.pxToRem)(140)};
  height: ${(0,s.pxToRem)(80)};
  justify-content: center;
  align-items: center;
`;function X({customRowComponent:e,components:t,addComponent:o,name:i,targetUid:c}){const{isInDevelopmentMode:d}=(0,I.Z)(),[u,y]=(0,n.useState)(0),{formatMessage:m}=(0,N.useIntl)(),f=l=>{u!==l&&y(l)},v=()=>{o(i)};return n.createElement(se,{className:"dynamiczone-row",isFromDynamicZone:!0},n.createElement("td",{colSpan:12},n.createElement(nt,{paddingLeft:8},n.createElement(ot,{horizontal:!0,spacing:2},d&&n.createElement("button",{type:"button",onClick:v},n.createElement(at,{spacing:1},n.createElement(tt,null),n.createElement(T.Typography,{variant:"pi",fontWeight:"bold",textColor:"primary600"},m({id:(0,h.Z)("button.component.add"),formatMessage:"Add a component"})))),t.map((l,p)=>n.createElement(Ge,{key:l,dzName:i,index:p,component:l,isActive:u===p,isInDevelopmentMode:d,onClick:()=>f(p)})))),n.createElement(rt,null,t.map((l,p)=>{const O={customRowComponent:e,component:l};return n.createElement(E.Box,{tabId:`${p}`,key:l,style:{display:u===p?"block":"none"}},n.createElement("table",null,n.createElement("tbody",null,n.createElement(ce,et(_e({},O),{isFromDynamicZone:!0,targetUid:c,key:l})))))}))))}X.defaultProps={addComponent:()=>{},components:[],customRowComponent:null,name:null},X.propTypes={addComponent:r().func,components:r().instanceOf(Array),customRowComponent:r().func,name:r().string,targetUid:r().string.isRequired};const lt=X,it=(0,g.default)(E.Box)`
  table {
    width: 100%;
    white-space: nowrap;
  }

  thead {
    border-bottom: 1px solid ${({theme:e})=>e.colors.neutral150};

    tr {
      border-top: 0;
    }
  }

  tr {
    border-top: 1px solid ${({theme:e})=>e.colors.neutral150};

    & td,
    & th {
      padding: ${({theme:e})=>e.spaces[4]};
    }

    & td:first-of-type,
    & th:first-of-type {
      padding: 0 ${({theme:e})=>e.spaces[1]};
    }
  }

  th,
  td {
    vertical-align: middle;
    text-align: left;
    color: ${({theme:e})=>e.colors.neutral600};
    outline-offset: -4px;
  }
`;var st=Object.defineProperty,j=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,fe=(e,t,o)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,ct=(e,t)=>{for(var o in t||(t={}))me.call(t,o)&&fe(e,o,t[o]);if(j)for(var o of j(t))ue.call(t,o)&&fe(e,o,t[o]);return e},dt=(e,t)=>{var o={};for(var i in e)me.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&j)for(var i of j(e))t.indexOf(i)<0&&ue.call(e,i)&&(o[i]=e[i]);return o};const pt=(0,g.default)(E.Box)`
  height: ${24/16}rem;
  width: ${24/16}rem;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;

  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:e,color:t})=>e.colors[`${t}600`]};
  }
`,mt=(0,g.default)(E.Box)`
  border-radius: 0 0 ${({theme:e})=>e.borderRadius} ${({theme:e})=>e.borderRadius};
  display: block;
  width: 100%;
  border: none;
  position: relative;
  left: -0.25rem;
`,ge=e=>{var t=e,{children:o,icon:i,color:c}=t,d=dt(t,["children","icon","color"]);return n.createElement(mt,ct({paddingBottom:4,paddingTop:4,as:"button",type:"button"},d),n.createElement(z.Flex,null,n.createElement(pt,{color:c,"aria-hidden":!0,background:`${c}200`},i),n.createElement(E.Box,{paddingLeft:3},n.createElement(T.Typography,{variant:"pi",fontWeight:"bold",textColor:`${c}600`},o))))};ge.propTypes={color:r().string.isRequired,children:r().string.isRequired,icon:r().node.isRequired};const ut=ge;var ft=Object.defineProperty,gt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable,ve=(e,t,o)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,V=(e,t)=>{for(var o in t||(t={}))vt.call(t,o)&&ve(e,o,t[o]);if(ye)for(var o of ye(t))ht.call(t,o)&&ve(e,o,t[o]);return e},J=(e,t)=>gt(e,yt(t));function Q({addComponentToDZ:e,customRowComponent:t,editTarget:o,firstLoopComponentUid:i,isFromDynamicZone:c,isMain:d,isNestedInDZComponent:u,isSub:y,items:m,secondLoopComponentUid:f,targetUid:v}){const{formatMessage:l}=(0,N.useIntl)(),{trackUsage:p}=(0,s.useTracking)(),{isInDevelopmentMode:O,modifiedData:P,isInContentTypeView:w}=(0,I.Z)(),{onOpenModalAddField:R}=(0,ae.Z)(),B=()=>{p("hasClickedCTBAddFieldBanner"),R({forTarget:o,targetUid:v})};return v?m.length===0&&d?n.createElement(C.Table,{colCount:2,rowCount:2},n.createElement(C.Thead,null,n.createElement(C.Tr,null,n.createElement(C.Th,null,n.createElement(T.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),n.createElement(C.Th,null,n.createElement(T.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.type",defaultMessage:"Type"}))))),n.createElement(s.EmptyBodyTable,{action:n.createElement(k.Button,{onClick:B,size:"L",startIcon:n.createElement(A(),null),variant:"secondary"},l({id:(0,h.Z)("table.button.no-fields"),defaultMessage:"Add new field"})),colSpan:2,content:w?{id:(0,h.Z)("table.content.no-fields.collection-type"),defaultMessage:"Add your first field to this Collection-Type"}:{id:(0,h.Z)("table.content.no-fields.component"),defaultMessage:"Add your first field to this component"}})):n.createElement(n.Fragment,null,n.createElement(it,null,n.createElement(E.Box,V({paddingLeft:6,paddingRight:d?6:0},d&&{style:{overflowX:"auto"}}),n.createElement("table",null,d&&n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,n.createElement(T.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),n.createElement("th",{colSpan:"2"},n.createElement(T.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.type",defaultMessage:"Type"}))))),n.createElement("tbody",null,m.map(x=>{const{type:M}=x,S=t;return n.createElement(n.Fragment,{key:x.name},n.createElement(S,J(V({},x),{isNestedInDZComponent:u,targetUid:v,editTarget:o,firstLoopComponentUid:i,isFromDynamicZone:c,secondLoopComponentUid:f})),M==="component"&&n.createElement(ce,J(V({},x),{customRowComponent:t,targetUid:v,isNestedInDZComponent:c,editTarget:o,firstLoopComponentUid:i})),M==="dynamiczone"&&n.createElement(lt,J(V({},x),{customRowComponent:t,addComponent:e,targetUid:v})))})))),d&&O&&n.createElement(C.TFooter,{icon:n.createElement(A(),null),onClick:B},l({id:(0,h.Z)(`form.button.add.field.to.${P.contentType?P.contentType.schema.kind:o||"collectionType"}`),defaultMessage:"Add another field"})),y&&O&&n.createElement(ut,{icon:n.createElement(A(),null),onClick:B,color:c?"primary":"neutral"},l({id:(0,h.Z)("form.button.add.field.to.component"),defaultMessage:"Add another field"})))):n.createElement(C.Table,{colCount:2,rowCount:2},n.createElement(C.Thead,null,n.createElement(C.Tr,null,n.createElement(C.Th,null,n.createElement(T.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),n.createElement(C.Th,null,n.createElement(T.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.type",defaultMessage:"Type"}))))),n.createElement(s.EmptyBodyTable,{colSpan:2,content:{id:(0,h.Z)("table.content.create-first-content-type"),defaultMessage:"Create your first Collection-Type"}}))}Q.defaultProps={addComponentToDZ:()=>{},customRowComponent:null,firstLoopComponentUid:null,isFromDynamicZone:!1,isNestedInDZComponent:!1,isMain:!1,isSub:!1,items:[],secondLoopComponentUid:null,targetUid:null},Q.propTypes={addComponentToDZ:r().func,customRowComponent:r().func,editTarget:r().string.isRequired,firstLoopComponentUid:r().string,isFromDynamicZone:r().bool,isNestedInDZComponent:r().bool,isMain:r().bool,items:r().instanceOf(Array),secondLoopComponentUid:r().string,targetUid:r().string,isSub:r().bool};const he=Q;var Ee=a(20763),Et=a(33970),Tt=a.n(Et),bt=a(76470),Ct=a.n(bt),xt=Object.defineProperty,Te=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,be=(e,t,o)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Ot=(e,t)=>{for(var o in t||(t={}))Pt.call(t,o)&&be(e,o,t[o]);if(Te)for(var o of Te(t))wt.call(t,o)&&be(e,o,t[o]);return e};const $t=(0,g.default)(E.Box)`
  position: absolute;
  left: -1.125rem;
  top: 0px;

  &:before {
    content: '';
    width: ${4/16}rem;
    height: ${12/16}rem;
    background: ${({theme:e,color:t})=>e.colors[t]};
    display: block;
  }
`,Lt=g.default.svg`
  position: relative;
  flex-shrink: 0;
  transform: translate(-0.5px, -1px);

  * {
    fill: ${({theme:e,color:t})=>e.colors[t]};
  }
`,Ce=e=>n.createElement($t,null,n.createElement(Lt,Ot({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z"})));Ce.propTypes={color:r().string.isRequired};const Rt=Ce,Y=({content:e})=>re()(e);Y.defaultProps={content:null},Y.propTypes={content:r().string};const Bt=Y,Mt=(0,g.default)(E.Box)`
  position: relative;
`;var Dt=a(34340),It=Object.defineProperty,xe=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,Pe=(e,t,o)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,we=(e,t)=>{for(var o in t||(t={}))St.call(t,o)&&Pe(e,o,t[o]);if(xe)for(var o of xe(t))Zt.call(t,o)&&Pe(e,o,t[o]);return e};function q({configurable:e,editTarget:t,firstLoopComponentUid:o,isFromDynamicZone:i,name:c,onClick:d,relation:u,repeatable:y,secondLoopComponentUid:m,target:f,targetUid:v,type:l}){const{contentTypes:p,isInDevelopmentMode:O,removeAttribute:P}=(0,I.Z)(),{formatMessage:w}=(0,N.useIntl)(),R=l==="relation"&&u.includes("morph"),B=["integer","biginteger","float","decimal"].includes(l)?"number":l;let x=l;["integer","biginteger","float","decimal"].includes(l)?x="number":["string"].includes(l)&&(x="text");const M=b()(p,[f],{}),S=b()(M,["schema","displayName"],""),U=b()(M,"plugin"),W=f?"relation":B,Z=()=>{R||e!==!1&&d(t,m||o||v,c,l)};let F;return m&&o?F=2:o?F=1:F=0,n.createElement(Mt,we({as:"tr"},(0,s.onRowClick)({fn:Z,condition:O&&e&&!R})),n.createElement("td",{style:{position:"relative"}},F!==0&&n.createElement(Rt,{color:i?"primary200":"neutral150"}),n.createElement(L.Stack,{paddingLeft:2,spacing:4,horizontal:!0},n.createElement(Dt.Z,{key:W,type:W}),n.createElement(T.Typography,{fontWeight:"bold"},c))),n.createElement("td",null,f?n.createElement(T.Typography,null,w({id:(0,h.Z)(`modelPage.attribute.${R?"relation-polymorphic":"relationWith"}`),defaultMessage:"Relation with"}),"\xA0",n.createElement("span",{style:{fontStyle:"italic"}},n.createElement(Bt,{content:S}),"\xA0",U&&`(${w({id:(0,h.Z)("from"),defaultMessage:"from"})}: ${U})`)):n.createElement(T.Typography,null,w({id:(0,h.Z)(`attribute.${x}`),defaultMessage:l}),"\xA0",y&&w({id:(0,h.Z)("component.repeatable"),defaultMessage:"(repeatable)"}))),n.createElement("td",null,O?n.createElement(z.Flex,we({justifyContent:"flex-end"},s.stopPropagation),e?n.createElement(L.Stack,{horizontal:!0,spacing:1},!R&&n.createElement(Ee.IconButton,{onClick:Z,label:`${w({id:"app.utils.edit",defaultMessage:"Edit"})} ${c}`,noBorder:!0,icon:n.createElement(te(),null)}),n.createElement(Ee.IconButton,{onClick:D=>{D.stopPropagation(),P(t,c,m||o||"")},label:`${w({id:"global.delete",defaultMessage:"Delete"})} ${c}`,noBorder:!0,icon:n.createElement(Ct(),null)})):n.createElement(Tt(),null)):n.createElement(E.Box,{height:(0,s.pxToRem)(32)})))}q.defaultProps={configurable:!0,firstLoopComponentUid:null,isFromDynamicZone:!1,onClick:()=>{},relation:"",repeatable:!1,secondLoopComponentUid:null,target:null,targetUid:null,type:null},q.propTypes={configurable:r().bool,editTarget:r().string.isRequired,firstLoopComponentUid:r().string,isFromDynamicZone:r().bool,name:r().string.isRequired,onClick:r().func,relation:r().string,repeatable:r().bool,secondLoopComponentUid:r().string,target:r().string,targetUid:r().string,type:r().string};const Ft=(0,n.memo)(q),At=e=>{let t;switch(e){case"date":case"datetime":case"time":case"timestamp":t="date";break;case"integer":case"biginteger":case"decimal":case"float":t="number";break;case"string":case"text":t="text";break;case"":t="relation";break;default:t=e}return t};var kt=a(70404),Nt=a.n(kt);const jt={collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},_=({disabled:e,isTemporary:t,isInContentTypeView:o,contentTypeKind:i,targetUid:c})=>{const{formatMessage:d}=(0,N.useIntl)(),{push:u}=(0,K.useHistory)(),{collectionTypesConfigurations:y,componentsConfigurations:m,singleTypesConfigurations:f}=jt,v=d({id:"content-type-builder.form.button.configure-view"});let l=y;const p=()=>(t||u(o?`/content-manager/collectionType/${c}/configurations/edit`:`/content-manager/components/${c}/configurations/edit`),!1);return o&&i==="singleType"&&(l=f),o||(l=m),n.createElement(s.CheckPermissions,{permissions:l},n.createElement(k.Button,{startIcon:n.createElement(Nt(),null),variant:"tertiary",onClick:p,disabled:t||e},v))};_.defaultProps={contentTypeKind:"collectionType",isInContentTypeView:!0,isTemporary:!1,targetUid:""},_.propTypes={disabled:r().bool.isRequired,contentTypeKind:r().string,isInContentTypeView:r().bool,isTemporary:r().bool,targetUid:r().string};const Vt=(0,n.memo)(_);var Ut=Object.defineProperty,Wt=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,$e=(e,t,o)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Gt=(e,t)=>{for(var o in t||(t={}))Kt.call(t,o)&&$e(e,o,t[o]);if(Oe)for(var o of Oe(t))Ht.call(t,o)&&$e(e,o,t[o]);return e},Xt=(e,t)=>Wt(e,zt(t)),Jt=(e,t,o)=>new Promise((i,c)=>{var d=m=>{try{y(o.next(m))}catch(f){c(f)}},u=m=>{try{y(o.throw(m))}catch(f){c(f)}},y=m=>m.done?i(m.value):Promise.resolve(m.value).then(d,u);y((o=o.apply(e,t)).next())});const Qt=()=>{const{initialData:e,modifiedData:t,isInDevelopmentMode:o,isInContentTypeView:i,submitData:c}=(0,I.Z)(),{formatMessage:d}=(0,N.useIntl)(),{trackUsage:u}=(0,s.useTracking)(),y=(0,K.useRouteMatch)("/plugins/content-type-builder/:kind/:currentUID"),{onOpenModalAddComponentsToDZ:m,onOpenModalAddField:f,onOpenModalEditField:v,onOpenModalEditSchema:l}=(0,ae.Z)(),p=i?"contentType":"component",O=[p,"schema","attributes"],P=b()(t,[p,"uid"]),w=b()(t,[p,"isTemporary"],!1),R=b()(t,[p,"schema","kind"],null),B=b()(t,O,[]),x=ke()(e,[p,"plugin"]),M=!oe()(t,e),S=i?"contentType":"component",U=$=>{m({dynamicZoneTarget:$,targetUid:P})},W=($,qt,_t,Le)=>Jt(void 0,null,function*(){const en=At(Le);v({forTarget:$,targetUid:qt,attributeName:_t,attributeType:en,step:Le==="component"?"2":null})});let Z=b()(t,[p,"schema","displayName"],"");const F=b()(t,[p,"schema","kind"],""),D=(y==null?void 0:y.params.currentUID)==="create-content-type";!Z&&D&&(Z=d({id:(0,h.Z)("button.model.create"),defaultMessage:"Create new collection type"}));const Yt=()=>{const $=F||p;$==="collectionType"&&u("willEditNameOfContentType"),$==="singleType"&&u("willEditNameOfSingleType"),l({modalType:p,forTarget:p,targetUid:P,kind:$})};return n.createElement(n.Fragment,null,n.createElement(K.Prompt,{message:d({id:(0,h.Z)("prompt.unsaved")}),when:M}),n.createElement(ne.HeaderLayout,{id:"title",primaryAction:o&&n.createElement(L.Stack,{horizontal:!0,spacing:2},!D&&n.createElement(k.Button,{startIcon:n.createElement(A(),null),variant:"secondary",onClick:()=>{f({forTarget:S,targetUid:P})}},d({id:(0,h.Z)("button.attributes.add.another")})),n.createElement(k.Button,{startIcon:n.createElement(Ie(),null),onClick:()=>c(),type:"submit",disabled:oe()(t,e)},d({id:"global.save",defaultMessage:"Save"}))),secondaryAction:o&&!x&&!D&&n.createElement(k.Button,{startIcon:n.createElement(te(),null),variant:"tertiary",onClick:Yt},d({id:"app.utils.edit",defaultMessage:"Edit"})),title:re()(Z),subtitle:d({id:(0,h.Z)("listView.headerLayout.description"),defaultMessage:"Build the data architecture of your content"}),navigationAction:n.createElement(Ze.Link,{startIcon:n.createElement(Me(),null),to:"/plugins/content-type-builder/"},d({id:"global.back",defaultMessage:"Back"}))}),n.createElement(ne.ContentLayout,null,n.createElement(L.Stack,{spacing:4},n.createElement(z.Flex,{justifyContent:"flex-end"},n.createElement(L.Stack,{horizontal:!0,spacing:2},n.createElement(Vt,{key:"link-to-cm-settings-view",targetUid:P,isTemporary:w,isInContentTypeView:i,contentTypeKind:R,disabled:D}))),n.createElement(E.Box,{background:"neutral0",shadow:"filterShadow",hasRadius:!0},n.createElement(he,{items:B,customRowComponent:$=>n.createElement(Ft,Xt(Gt({},$),{onClick:W})),addComponentToDZ:U,targetUid:P,editTarget:S,isMain:!0})))))}}}]);

"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{34340:($e,de,i)=>{i.d(de,{Z:()=>Ft});var r=i(32735),W=i(19615),be=i(60216),F=i.n(be),E=i(9808),Sn=i.n(E),Tt=i(10822),$=i.n(Tt),Ct=i(57746),a=i.n(Ct),S=i(61714),ze=i.n(S),Ne=i(9895),Et=i.n(Ne),Mt=i(80466),Ve=i.n(Mt),d=i(34103),qe=i.n(d),Pt=i(57290),Z=i.n(Pt),Ot=i(57955),mt=i.n(Ot),Rt=i(90040),xt=i.n(Rt),St=i(55788),Ie=i.n(St),At=i(94661),ve=i.n(At),z=i(81208),V=i.n(z),nt=i(28565),Be=i.n(nt),H=i(65232),xe=i.n(H),ee=i(80268),me=i.n(ee),Te=i(42122),ie=i.n(Te),at=i(10938),pt=i.n(at),Dt=Object.defineProperty,Se=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,ot=(X,Q,G)=>Q in X?Dt(X,Q,{enumerable:!0,configurable:!0,writable:!0,value:G}):X[Q]=G,st=(X,Q)=>{for(var G in Q||(Q={}))rt.call(Q,G)&&ot(X,G,Q[G]);if(Se)for(var G of Se(Q))Nt.call(Q,G)&&ot(X,G,Q[G]);return X},Ze=(X,Q)=>{var G={};for(var fe in X)rt.call(X,fe)&&Q.indexOf(fe)<0&&(G[fe]=X[fe]);if(X!=null&&Se)for(var fe of Se(X))Q.indexOf(fe)<0&&Nt.call(X,fe)&&(G[fe]=X[fe]);return G};const It={biginteger:ie(),boolean:Et(),collectionType:a(),component:$(),contentType:a(),date:ze(),datetime:ze(),decimal:ie(),dynamiczone:Ve(),email:qe(),enum:Z(),enumeration:Z(),file:Ie(),files:Ie(),float:ie(),integer:ie(),json:mt(),JSON:mt(),media:Ie(),number:ie(),password:ve(),relation:V(),richtext:xt(),singleType:Be(),string:xe(),text:xe(),time:ze(),timestamp:ze(),uid:me()},Zt=(0,W.default)(E.Box)`
  width: ${(0,at.pxToRem)(32)};
  height: ${(0,at.pxToRem)(24)};
  box-sizing: content-box;
`,Ge=X=>{var Q=X,{type:G}=Q,fe=Ze(Q,["type"]);const wt=It[G];return It[G]?r.createElement(Zt,st({as:wt},fe)):null};Ge.propTypes={type:F().string.isRequired};const Ft=Ge},67177:($e,de,i)=>{i.d(de,{Z:()=>be});var r=i(32735);const be=(0,r.createContext)()},73938:($e,de,i)=>{i.d(de,{Z:()=>be});var r=i(32735);const be=(0,r.createContext)()},55389:($e,de,i)=>{i.d(de,{Z:()=>F});var r=i(32735),W=i(67177);const F=()=>(0,r.useContext)(W.Z)},84218:($e,de,i)=>{i.d(de,{Z:()=>F});var r=i(32735),W=i(73938);const F=()=>(0,r.useContext)(W.Z)},16011:($e,de,i)=>{i.r(de),i.d(de,{default:()=>Li});var r=i(32735),W=i(5141),be=i(99357),F=i(5636),E=i(10938),Sn=i(11856),Tt=i(44766),$=i(45851),Ct=i(60216),a=i.n(Ct),S=i(92891),ze=i.n(S),Ne=i(4409),Et=i(13055),Mt=i(67177),Ve=i(84218),d=i(97123),qe=i(6358),Pt=i(33795),Z=i.n(Pt),Ot=i(23973),mt=i.n(Ot),Rt=i(3040),xt=i.n(Rt),St=i(59578),Ie=i.n(St),At=i(23940),ve=i.n(At),z=i(9808),V=i(44526),nt=i(27635),Be=i(4122),H=i(95602),xe=i(81700),ee=i(19192),me=i(90662),Te=i(55389),ie=i(25716);const at=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],pt=({intlLabel:e,name:t,onChange:n,value:o})=>{const{formatMessage:s}=(0,F.useIntl)(),l=o===null||o.length===0?s({id:"global.none",defaultMessage:"None"}):[...o].sort().map(c=>ve()(c)).join(", "),u=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):t;return r.createElement(ie.MultiSelectNested,{id:"select1",label:u,customizeContent:()=>l,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:at,value:o||[]})};pt.defaultProps={value:null},pt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().object,a().array])};const Dt=pt;var Se=i(78330),rt=i(87910);const ot=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var st=i(34340),Ze=i(19615);const Zt=(0,Ze.default)(z.Box)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Ge=({type:e})=>{const{formatMessage:t}=(0,F.useIntl)(),{onClickSelectField:n}=(0,Ve.Z)(),o=()=>{n({attributeType:e,step:e==="component"?"1":null})};return r.createElement(Zt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:o},r.createElement(ee.Flex,null,r.createElement(st.Z,{type:e}),r.createElement(z.Box,{paddingLeft:4},r.createElement(ee.Flex,null,r.createElement(H.Typography,{fontWeight:"bold"},t({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e}))),r.createElement(ee.Flex,null,r.createElement(H.Typography,{variant:"pi",textColor:"neutral600"},t({id:(0,d.Z)(`attribute.${e}.description`)}))))))};Ge.defaultProps={type:"text"},Ge.propTypes={type:a().string};const Ft=Ge,X=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:o}=(0,F.useIntl)(),s=t.includes("component")?"component":n,l=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${s}`);return r.createElement(Be.ModalBody,null,r.createElement(ee.Flex,{paddingBottom:4},r.createElement(H.Typography,{variant:"beta",as:"h2"},o({id:l,defaultMessage:"Select a field"}))),r.createElement(nt.Divider,null),r.createElement(z.Box,{paddingTop:6,paddingBottom:4},r.createElement(rt.KeyboardNavigable,{tagName:"button"},r.createElement(me.Stack,{spacing:8},e.map((u,c)=>{const p=c;return r.createElement(Se.Grid,{key:p,gap:0},u.map((m,g)=>{const f=g%2===1,h=f?2:0,b=f?0:2;return r.createElement(Se.GridItem,{key:m,col:6,style:{height:"100%"}},r.createElement(z.Box,{paddingLeft:h,paddingRight:b,paddingBottom:1,style:{height:"100%"}},r.createElement(Ft,{type:m})))}))})))))};X.propTypes={attributes:a().array.isRequired,forTarget:a().string.isRequired,kind:a().string.isRequired};const Q=X;var G=i(49137),fe=i(63865),wt=i(50678),cr=i.n(wt),ur=Object.defineProperty,An=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,Dn=(e,t,n)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t)=>{for(var n in t||(t={}))dr.call(t,n)&&Dn(e,n,t[n]);if(An)for(var n of An(t))mr.call(t,n)&&Dn(e,n,t[n]);return e};const pr=(0,Ze.default)(H.Typography)`
  text-align: center;
`,Lt=({description:e,disabled:t,intlLabel:n,isCreating:o,name:s,onChange:l,value:u})=>{const{formatMessage:c}=(0,F.useIntl)(),[p,m]=(0,r.useState)(!1),g=n.id?c({id:n.id,defaultMessage:n.defaultMessage},Nn({},n.values)):s,f=e?c({id:e.id,defaultMessage:e.defaultMessage},Nn({},e.values)):"",h=()=>m(C=>!C),b=()=>{l({target:{name:s,value:!1}}),h()},T=({target:{checked:C}})=>{if(!C&&!o){h();return}l({target:{name:s,value:C}})};return r.createElement(r.Fragment,null,r.createElement(fe.ToggleInput,{checked:u||!1,disabled:t,hint:f,label:g,name:s,offLabel:c({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:c({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:T}),p&&r.createElement(G.Dialog,{onClose:h,title:"Confirmation",isOpen:p},r.createElement(G.DialogBody,{icon:r.createElement(cr(),null)},r.createElement(me.Stack,{spacing:2},r.createElement(ee.Flex,{justifyContent:"center"},r.createElement(pr,{id:"confirm-description"},c({id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the Draft/Publish system, your drafts will be deleted."}))),r.createElement(ee.Flex,{justifyContent:"center"},r.createElement(H.Typography,{id:"confirm-description"},c({id:(0,d.Z)("popUpWarning.draft-publish.second-message"),defaultMessage:"Are you sure you want to disable it?"}))))),r.createElement(G.DialogFooter,{startAction:r.createElement(V.Button,{onClick:h,variant:"tertiary"},c({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:r.createElement(V.Button,{variant:"danger-light",onClick:b},c({id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}))})))};Lt.defaultProps={description:null,disabled:!1,value:!1},Lt.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};const gr=Lt;var qt=i(71657);const Bt=({actionType:e,attributeName:t,attributeType:n,categoryName:o,contentTypeKind:s,dynamicZoneTarget:l,forTarget:u,modalType:c,targetUid:p})=>{var m;const{formatMessage:g}=(0,F.useIntl)(),{modifiedData:f}=(0,Te.Z)();let h,b=[];const T=((m=f==null?void 0:f[u])==null?void 0:m[p])||(f==null?void 0:f[u])||null;let C=T==null?void 0:T.schema.displayName;if(c==="contentType"&&(h=s),["component","editCategory"].includes(c)&&(h="component"),["component","contentType"].includes(c)){let O=(0,d.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(O=(0,d.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(O=(0,d.Z)("modalForm.header-edit")),r.createElement(Be.ModalHeader,null,r.createElement(ee.Flex,null,r.createElement(z.Box,null,r.createElement(st.Z,{type:h})),r.createElement(z.Box,{paddingLeft:3},r.createElement(H.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:O},{name:C})))))}b=[{label:C,info:{category:(T==null?void 0:T.category)||null,name:T==null?void 0:T.schema.displayName}}],c==="chooseAttribute"&&(h=["component","components"].includes(u)?"component":T.schema.kind),c==="addComponentToDynamicZone"&&(h="dynamiczone",b.push({label:l})),c==="attribute"&&(h=n,b.push({label:t})),c==="editCategory"&&(b=[{label:g({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:o}]);const M=b.map(({label:O})=>O).join(",");return r.createElement(Be.ModalHeader,null,r.createElement(me.Stack,{horizontal:!0,spacing:3},r.createElement(st.Z,{type:h}),r.createElement(qt.Breadcrumbs,{label:M},b.map((O,L)=>{var Y;const k=ve()(O.label);if(!k)return null;const ne=`${O.label}.${L}`;if((Y=O.info)!=null&&Y.category){const R=`${k} (${ve()(O.info.category)} - ${ve()(O.info.name)})`;return r.createElement(qt.Crumb,{key:ne},R)}return r.createElement(qt.Crumb,{key:ne},k)}))))};Bt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null},Bt.propTypes={actionType:a().string,attributeName:a().string,attributeType:a().string,categoryName:a().string,contentTypeKind:a().string,dynamicZoneTarget:a().string,forTarget:a().oneOf(["contentType","component","components"]),modalType:a().string.isRequired,targetUid:a().string};const fr=Bt;var yr=i(59290),it=i.n(yr);const kt=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:o,isAttributeModal:s,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:c,isCreatingComponent:p,isCreatingComponentAttribute:m,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:f,isCreatingContentType:h,isCreatingDz:b,isComponentModal:T,isDzAttribute:C,isEditingAttribute:A,isEditingCategory:M,isInFirstComponentStep:O,onSubmitAddComponentAttribute:L,onSubmitAddComponentToDz:Y,onSubmitCreateContentType:k,onSubmitCreateComponent:ne,onSubmitCreateDz:R,onSubmitEditAttribute:U,onSubmitEditCategory:j,onSubmitEditComponent:K,onSubmitEditContentType:le,onSubmitEditDz:oe})=>{const{formatMessage:q}=(0,F.useIntl)();return u?g?r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:x=>{x.preventDefault(),Y(x,!0)},startIcon:r.createElement(it(),null)},q({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):r.createElement(V.Button,{variant:"default",type:"submit",onClick:x=>{x.preventDefault(),Y(x,!1)}},q({id:"global.finish",defaultMessage:"Finish"})):s&&C&&!b?r.createElement(V.Button,{variant:"default",type:"submit",onClick:x=>{x.preventDefault(),oe(x,!1)}},q({id:"global.finish",defaultMessage:"Finish"})):s&&C&&b?r.createElement(r.Fragment,null,r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:x=>{x.preventDefault(),R(x,!0)},startIcon:r.createElement(it(),null)},q({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&l?O?r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:x=>{x.preventDefault(),L(x,!0)}},q(m?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):r.createElement(r.Fragment,null,r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:x=>{x.preventDefault(),L(x,!0)},startIcon:r.createElement(it(),null)},q(f?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),r.createElement(V.Button,{variant:"default",type:"button",onClick:x=>{x.preventDefault(),L(x,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))):s&&!l&&!C?r.createElement(r.Fragment,null,r.createElement(V.Button,{type:A?"button":"submit",variant:"secondary",onClick:x=>{x.preventDefault(),U(x,!0)},startIcon:r.createElement(it(),null)},q({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),r.createElement(V.Button,{type:A?"submit":"button",variant:"default",onClick:x=>{x.preventDefault(),U(x,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))):c?r.createElement(r.Fragment,null,!h&&r.createElement(r.Fragment,null,r.createElement(V.Button,{type:"button",variant:"danger",onClick:x=>{x.preventDefault(),o()}},q({id:"global.delete",defaultMessage:"Delete"})),r.createElement(V.Button,{type:"submit",variant:"default",onClick:x=>{x.preventDefault(),le(x,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))),h&&r.createElement(V.Button,{type:"submit",variant:"secondary",onClick:x=>{x.preventDefault(),k(x,!0)}},q({id:"global.continue",defaultMessage:"Continue"}))):T?r.createElement(r.Fragment,null,!p&&r.createElement(r.Fragment,null,r.createElement(V.Button,{type:"button",variant:"danger",onClick:x=>{x.preventDefault(),n()}},q({id:"global.delete",defaultMessage:"Delete"})),r.createElement(V.Button,{type:"submit",variant:"default",onClick:x=>{x.preventDefault(),K(x,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))),p&&r.createElement(V.Button,{type:"submit",variant:"secondary",onClick:x=>{x.preventDefault(),ne(x,!0)}},q({id:"global.continue",defaultMessage:"Continue"}))):M?r.createElement(r.Fragment,null,r.createElement(V.Button,{type:"button",variant:"danger",onClick:x=>{x.preventDefault(),t(e)}},q({id:"global.delete",defaultMessage:"Delete"})),r.createElement(V.Button,{type:"submit",variant:"default",onClick:x=>{x.preventDefault(),j(x)}},q({id:"global.finish",defaultMessage:"finish"}))):null};kt.defaultProps={categoryName:null},kt.propTypes={categoryName:a().string,deleteCategory:a().func.isRequired,deleteComponent:a().func.isRequired,deleteContentType:a().func.isRequired,isAttributeModal:a().bool.isRequired,isComponentAttribute:a().bool.isRequired,isComponentModal:a().bool.isRequired,isComponentToDzModal:a().bool.isRequired,isContentTypeModal:a().bool.isRequired,isCreatingComponent:a().bool.isRequired,isCreatingComponentAttribute:a().bool.isRequired,isCreatingComponentInDz:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,isCreatingContentType:a().bool.isRequired,isCreatingDz:a().bool.isRequired,isDzAttribute:a().bool.isRequired,isEditingAttribute:a().bool.isRequired,isEditingCategory:a().bool.isRequired,isInFirstComponentStep:a().bool.isRequired,onSubmitAddComponentAttribute:a().func.isRequired,onSubmitAddComponentToDz:a().func.isRequired,onSubmitCreateContentType:a().func.isRequired,onSubmitCreateComponent:a().func.isRequired,onSubmitCreateDz:a().func.isRequired,onSubmitEditAttribute:a().func.isRequired,onSubmitEditCategory:a().func.isRequired,onSubmitEditComponent:a().func.isRequired,onSubmitEditContentType:a().func.isRequired,onSubmitEditDz:a().func.isRequired};const hr=kt;var br=Object.defineProperty,In=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Zn=(e,t,n)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cr=(e,t)=>{for(var n in t||(t={}))vr.call(t,n)&&Zn(e,n,t[n]);if(In)for(var n of In(t))Tr.call(t,n)&&Zn(e,n,t[n]);return e};const jt=({intlLabel:e,name:t,options:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,F.useIntl)(),u=e.id?l({id:e.id,defaultMessage:e.defaultMessage},Cr({},e.values)):t,c=p=>{let m="";p==="true"&&(m=!0),p==="false"&&(m=!1),o({target:{name:t,value:m,type:"select-default-boolean"}})};return r.createElement(ie.Select,{label:u,id:t,name:t,onChange:c,value:(s===null?"":s).toString()},n.map(({metadatas:{intlLabel:p,disabled:m,hidden:g},key:f,value:h})=>r.createElement(ie.Option,{key:f,value:h,disabled:m,hidden:g},p.defaultMessage)))};jt.defaultProps={value:null},jt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().any};const Er=jt;var Mr=i(10345);const Pr=(0,Ze.default)(me.Stack)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Mr.inputFocusStyle)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${H.Typography} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Ut=({intlLabel:e,name:t,onChange:n,radios:o,value:s})=>{const{formatMessage:l}=(0,F.useIntl)();return r.createElement(me.Stack,{spacing:2},r.createElement(H.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},l(e)),r.createElement(Pr,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},o.map(u=>r.createElement("label",{htmlFor:u.value.toString(),key:u.value,className:"container"},r.createElement("input",{id:u.value.toString(),name:t,className:"option-input",checked:u.value===s,value:u.value,key:u.value,onChange:n,type:"radio"}),r.createElement(z.Box,{className:"option",padding:4},r.createElement(ee.Flex,null,r.createElement(z.Box,{paddingRight:4},r.createElement("span",{className:"checkmark"})),r.createElement(me.Stack,{spacing:2},r.createElement(H.Typography,{fontWeight:"bold"},l(u.title)),r.createElement(H.Typography,{variant:"pi",textColor:"neutral600"},l(u.description)))))))))};Ut.defaultProps={radios:[]},Ut.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,radios:a().arrayOf(a().shape({title:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),value:a().any.isRequired})),value:a().oneOfType([a().string,a().bool]).isRequired};const _t=Ut;var Or=Object.defineProperty,Rr=Object.defineProperties,xr=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable,Ln=(e,t,n)=>t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sr=(e,t)=>{for(var n in t||(t={}))Fn.call(t,n)&&Ln(e,n,t[n]);if(gt)for(var n of gt(t))wn.call(t,n)&&Ln(e,n,t[n]);return e},Ar=(e,t)=>Rr(e,xr(t)),Dr=(e,t)=>{var n={};for(var o in e)Fn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&gt)for(var o of gt(e))t.indexOf(o)<0&&wn.call(e,o)&&(n[o]=e[o]);return n};const qn=e=>{var t=e,{onChange:n,name:o}=t,s=Dr(t,["onChange","name"]);const l=u=>{const c=u.target.value!=="false";n({target:{name:o,value:c,type:"boolean-radio-group"}})};return r.createElement(_t,Ar(Sr({},s),{name:o,onChange:l}))};qn.propTypes={name:a().string.isRequired,onChange:a().func.isRequired};const Nr=qn;var Ir=i(52111),Zr=i(93026),Wt=i(37178),Fr=Object.defineProperty,Bn=Object.getOwnPropertySymbols,wr=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable,kn=(e,t,n)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qr=(e,t)=>{for(var n in t||(t={}))wr.call(t,n)&&kn(e,n,t[n]);if(Bn)for(var n of Bn(t))Lr.call(t,n)&&kn(e,n,t[n]);return e};const $t=({error:e,intlLabel:t,modifiedData:n,name:o,onChange:s,value:l})=>{const{formatMessage:u}=(0,F.useIntl)(),[c,p]=(0,r.useState)(!!l||l===0),m=t.id?u({id:t.id,defaultMessage:t.defaultMessage},qr({},t.values)):o,g=n.type==="biginteger"?"text":"number",f=!n.type,h=e?u({id:e,defaultMessage:e}):"";return r.createElement(me.Stack,{spacing:2},r.createElement(Ir.Checkbox,{id:o,name:o,onValueChange:b=>{s({target:{name:o,value:b?g==="text"?"0":0:null}}),p(A=>!A)},value:c},m),c&&r.createElement(z.Box,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?r.createElement(Wt.TextInput,{"aria-label":m,disabled:f,error:h,id:o,name:o,onChange:s,value:l===null?"":l}):r.createElement(Zr.NumberInput,{"aria-label":m,disabled:f,error:h,id:o,name:o,onValueChange:b=>{s({target:{name:o,value:b,type:g}})},value:l||0})))};$t.defaultProps={error:null,value:null},$t.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().string,a().object,a().bool,a().number])};const Br=$t;var kr=Object.defineProperty,jr=Object.defineProperties,Ur=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable,_n=(e,t,n)=>t in e?kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_r=(e,t)=>{for(var n in t||(t={}))jn.call(t,n)&&_n(e,n,t[n]);if(ft)for(var n of ft(t))Un.call(t,n)&&_n(e,n,t[n]);return e},Wr=(e,t)=>jr(e,Ur(t)),$r=(e,t)=>{var n={};for(var o in e)jn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ft)for(var o of ft(e))t.indexOf(o)<0&&Un.call(e,o)&&(n[o]=e[o]);return n};const Wn=e=>{var t=e,{onChange:n}=t,o=$r(t,["onChange"]);const s=(0,E.useNotification)(),l=u=>{s({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),n(u)};return r.createElement(_t,Wr(_r({},o),{onChange:l}))};Wn.propTypes={onChange:a().func.isRequired};const zr=Wn;var $n=i(19744),Vr=i(89978),Gr=i(20763),Kr=i(38938),Hr=i.n(Kr),Xr=i(16925);const Yr=(0,Ze.default)(ee.Flex)`
  svg {
    z-index: 2;
    color: ${({isSelected:e,theme:t})=>e?t.colors.primary600:t.colors.neutral300};
  }
  ${({isSelected:e,theme:t})=>e?`
      &::after {
        content: '';
        position: absolute;
        top: 8px;
        left: 8px;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        background-color: ${t.colors.primary200};
        z-index: 1;
      }
    `:""}
`;var Jr=Object.defineProperty,Qr=Object.defineProperties,eo=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,to=Object.prototype.hasOwnProperty,no=Object.prototype.propertyIsEnumerable,Vn=(e,t,n)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ao=(e,t)=>{for(var n in t||(t={}))to.call(t,n)&&Vn(e,n,t[n]);if(zn)for(var n of zn(t))no.call(t,n)&&Vn(e,n,t[n]);return e},ro=(e,t)=>Qr(e,eo(t));const lt=44,zt=({error:e,isCreating:t,intlLabel:n,name:o,onChange:s,value:l})=>{const{allIcons:u,allComponentsIconAlreadyTaken:c}=(0,Te.Z)(),{formatMessage:p}=(0,F.useIntl)(),[m]=(0,r.useState)(l),g=u.filter(R=>t?!c.includes(R):!c.filter(U=>U!==m).includes(R)),f=(0,r.useRef)(),[h,b]=(0,r.useState)(!1),[T,C]=(0,r.useState)(""),[A,M]=(0,r.useState)(g),O=()=>b(R=>!R);(0,r.useEffect)(()=>{h&&f.current.querySelector("input").focus()},[h]);const L=({target:{value:R}})=>{C(R),M(()=>g.filter(U=>U.includes(R)))},Y=e?p({id:e,defaultMessage:e}):"",k=({index:R})=>{const j=R%16,K=lt,le=lt,oe=j*(le+1),q=parseInt(R/16,10)*lt;return{height:K,width:le,x:oe,y:q}},ne=A.length;return r.createElement(z.Box,null,r.createElement(me.Stack,{spacing:1},r.createElement(ee.Flex,{justifyContent:"space-between"},r.createElement(H.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:o,as:"label"},p(n)),h?r.createElement("div",{ref:f,style:{width:206}},r.createElement(Vr.Searchbar,{name:"searchbar",onBlur:()=>{T||O()},onClear:()=>{C(""),M(g),O()},value:T,onChange:L,clearLabel:"Clearing the icon search",placeholder:p({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),size:"S"},p({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}))):r.createElement(Gr.IconButton,{onClick:O,"aria-label":"Edit",icon:r.createElement(Hr(),null),noBorder:!0})),r.createElement(me.Stack,{spacing:1},r.createElement(z.Box,{background:"neutral100",borderColor:e?"danger600":"",hasRadius:!0},r.createElement(z.Box,null,r.createElement($n.qj,{disableHeight:!0},({width:R})=>r.createElement($n.FE,{cellCount:ne,cellRenderer:({index:U,key:j,style:K})=>{const le=A[U],oe=le===l,q=()=>{s({target:{name:o,value:le}})};return r.createElement("div",{style:ro(ao({},K),{width:lt}),key:j},r.createElement(Yr,{style:{width:"100%",height:lt},alignItems:"center",justifyContent:"center",onClick:q,isSelected:oe,as:"button",type:"button"},r.createElement(Xr.G,{icon:le})))},cellSizeAndPositionGetter:k,height:132,width:R})))),e&&r.createElement(H.Typography,{variant:"pi",id:`${o}-error`,textColor:"danger600","data-strapi-field-error":!0},Y))))};zt.defaultProps={error:null},zt.propTypes={error:a().string,isCreating:a().bool.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string.isRequired};const oo=zt;var Vt=i(36681),Gn=i(12611),te=i(75081);const Gt=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:o}=(0,Te.Z)(),s=(0,Ne.I0)(),l=o.filter(ot),u=Z()(n,[t,"plugin"],null),c=Z()(n,[t,"schema","displayName"],"error");return r.createElement(Gn.SimpleMenu,{id:"label",label:`${c}
    ${u?`(from: ${u})`:""}`},l.map(({uid:p,title:m,restrictRelationsTo:g,plugin:f})=>{const h=()=>{const b=f?`${f}_${m}`:m;s({type:te.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:b,targetContentTypeAllowedRelations:g}})};return r.createElement(Gn.MenuItem,{key:p,onClick:h},m,"\xA0",f&&r.createElement(r.Fragment,null,"(from: ",f,")"))}))};Gt.defaultProps={target:null},Gt.propTypes={oneThatIsCreatingARelationWithAnother:a().string.isRequired,target:a().string};const so=Gt,Kt=({disabled:e,error:t,header:n,isMain:o,name:s,onChange:l,oneThatIsCreatingARelationWithAnother:u,target:c,value:p})=>r.createElement(z.Box,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},r.createElement(ee.Flex,{paddingTop:o?4:1,paddingBottom:o?3:1,justifyContent:"center"},o?r.createElement(H.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},n):r.createElement(so,{target:c,oneThatIsCreatingARelationWithAnother:u})),r.createElement(nt.Divider,{background:"neutral200"}),r.createElement(z.Box,{padding:4},r.createElement(E.GenericInput,{disabled:e,error:(t==null?void 0:t.id)||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:l,type:"text",value:p})));Kt.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange:()=>{},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Kt.propTypes={disabled:a().bool,error:a().object,header:a().string,isMain:a().bool,name:a().string.isRequired,onChange:a().func,oneThatIsCreatingARelationWithAnother:a().string,target:a().string,value:a().string};const Kn=Kt;var io=i(51382),Hn=i.n(io),lo=i(24443),Ht=i.n(lo),co=i(29158),uo=i.n(co),mo=i(10883),po=i.n(mo),go=i(36925),fo=i.n(go),yo=i(23277),ho=i.n(yo),bo=i(55452),vo=i.n(bo),To=i(15568),Co=i.n(To);const Eo=(0,Ze.default)(z.Box)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Mo=(0,Ze.default)(z.Box)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Po=(0,Ze.default)(ee.Flex)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Oo={oneWay:po(),oneToOne:uo(),oneToMany:ho(),manyToOne:vo(),manyToMany:Co(),manyWay:fo()},Xt=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:o})=>{const s=(0,Ne.I0)(),{formatMessage:l}=(0,F.useIntl)(),{contentTypes:u,modifiedData:c}=(0,Te.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],m=["oneWay","manyWay"],f=(e==="contentType"?Z()(c,[e,"schema","kind"],""):e)==="collectionType"?p:m,h=n==="manyToOne",b=Z()(u,[o,"schema","displayName"],"unknown"),T=h?b:t,C=h?t:b,A=Ht()(T,n==="manyToMany"?2:1),M=Z()(u,[o,"schema","restrictRelationsTo"],null),O=Ht()(C,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?r.createElement(ee.Flex,{style:{flex:1}},r.createElement(Eo,null,r.createElement(ee.Flex,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},r.createElement(rt.KeyboardNavigable,{tagName:"button"},r.createElement(me.Stack,{spacing:3,horizontal:!0},f.map(L=>{const Y=Oo[L],k=M===null||M.includes(L);return r.createElement(Mo,{as:"button",isSelected:n===L,disabled:!k,key:L,onClick:()=>{k&&s({type:te.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:o,value:L}})},padding:2,type:"button"},r.createElement(Y,{key:L}))}))))),r.createElement(Po,{justifyContent:"center"},r.createElement(H.Typography,null,Hn()(A,{length:24}),"\xA0"),r.createElement(H.Typography,{textColor:"primary600"},l({id:(0,d.Z)(`relation.${n}`)}),"\xA0"),r.createElement(H.Typography,null,Hn()(O,{length:24})))):null};Xt.defaultProps={relationType:null,target:null},Xt.propTypes={naturePickerType:a().string.isRequired,oneThatIsCreatingARelationWithAnother:a().string.isRequired,relationType:a().string,target:a().string};const Ro=Xt,Xn=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:o,onChange:s})=>{const l=(0,Vt.Z)(n.relation,n.targetAttribute);return r.createElement(ee.Flex,{style:{position:"relative"}},r.createElement(Kn,{isMain:!0,header:t,error:(e==null?void 0:e.name)||null,name:"name",onChange:s,value:(n==null?void 0:n.name)||""}),r.createElement(Ro,{naturePickerType:o,oneThatIsCreatingARelationWithAnother:t,relationType:l,target:n.target}),r.createElement(Kn,{disabled:["oneWay","manyWay"].includes(l),error:(e==null?void 0:e.targetAttribute)||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:(n==null?void 0:n.targetAttribute)||""}))};Xn.propTypes={formErrors:a().object.isRequired,mainBoxHeader:a().string.isRequired,modifiedData:a().object.isRequired,naturePickerType:a().string.isRequired,onChange:a().func.isRequired};const xo=Xn;var Yn=i(40170),So=Object.defineProperty,Jn=Object.getOwnPropertySymbols,Ao=Object.prototype.hasOwnProperty,Do=Object.prototype.propertyIsEnumerable,Qn=(e,t,n)=>t in e?So(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,No=(e,t)=>{for(var n in t||(t={}))Ao.call(t,n)&&Qn(e,n,t[n]);if(Jn)for(var n of Jn(t))Do.call(t,n)&&Qn(e,n,t[n]);return e};const Yt=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:l,value:u})=>{const{formatMessage:c}=(0,F.useIntl)(),p=(0,r.useRef)(l),m=(o==null?void 0:o.displayName)||"";(0,r.useEffect)(()=>{if(m){const b=(0,Yn.Z)(m);try{const T=Ht()(b,2);p.current({target:{name:s,value:T}})}catch(T){p.current({target:{name:s,value:b}})}}else p.current({target:{name:s,value:""}})},[m,s]);const g=t?c({id:t,defaultMessage:t}):"",f=e?c({id:e.id,defaultMessage:e.defaultMessage},No({},e.values)):"",h=c(n);return r.createElement(Wt.TextInput,{error:g,label:h,id:s,hint:f,name:s,onChange:l,value:u||""})};Yt.defaultProps={description:null,error:null,value:null},Yt.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Io=Yt;var ea=i(14715);const Jt=({error:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,F.useIntl)(),{allComponentsCategories:u}=(0,Te.Z)(),[c,p]=(0,r.useState)(u),m=e?l({id:e,defaultMessage:e}):"",g=l(t),f=b=>{o({target:{name:n,value:b,type:"select-category"}})},h=b=>{p(T=>[...T,b]),f(b)};return r.createElement(ea.CreatableCombobox,{error:m,id:n,label:g,name:n,onChange:f,onCreateOption:h,value:s},c.map(b=>r.createElement(ea.ComboboxOption,{key:b,value:b},b)))};Jt.defaultProps={error:null,value:null},Jt.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Zo=Jt,Qt=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:o,isCreatingComponentWhileAddingAField:s,componentToCreate:l,name:u,onChange:c,targetUid:p,forTarget:m,value:g})=>{const{formatMessage:f}=(0,F.useIntl)(),h=e?f({id:e,defaultMessage:e}):"",b=f(t),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:C}=(0,Te.Z)(),A=["component","components"].includes(m);let M=Object.entries(T).reduce((O,L)=>{const[Y,k]=L,ne=k.map(R=>({uid:R.uid,label:R.schema.displayName,categoryName:Y}));return[...O,...ne]},[]);return n&&(M=M.filter(O=>!C.includes(O.uid))),A&&(M=M.filter(O=>O.uid!==p)),s&&(M=[{uid:g,label:l.displayName,categoryName:l.category}]),r.createElement(ie.Select,{disabled:s||!o,error:h,label:b,id:u,name:u,onChange:O=>{c({target:{name:u,value:O,type:"select-category"}})},value:g||""},M.map(O=>r.createElement(ie.Option,{key:O.uid,value:O.uid},`${O.categoryName} - ${O.label}`)))};Qt.defaultProps={componentToCreate:null,error:null},Qt.propTypes={componentToCreate:a().object,forTarget:a().string.isRequired,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isAddingAComponentToAnotherComponent:a().bool.isRequired,isCreating:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,targetUid:a().string.isRequired,value:a().string.isRequired};const Fo=Qt,en=(e,t)=>e.find(({name:n})=>n===t),ta=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,F.useIntl)(),{componentsGroupedByCategory:u,modifiedData:c}=(0,Te.Z)(),m=(en(c.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(u).reduce((b,T)=>{const C=u[T].filter(({uid:A})=>!m.includes(A));return C.length>0&&(b[T]=C),b},{}),f=Object.entries(g).reduce((b,T)=>{const[C,A]=T,M={label:C,children:A.map(({uid:O,schema:{displayName:L}})=>({label:L,value:O}))};return b.push(M),b},[]),h=l({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return r.createElement(ie.MultiSelectNested,{id:"select1",label:l(t),customizeContent:()=>h,name:n,onChange:b=>{o({target:{name:n,value:b,type:"select-components"}})},options:f,value:s||[]})};ta.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,dynamicZoneTarget:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().array.isRequired};const wo=ta,tn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:l,value:u})=>{const{formatMessage:c}=(0,F.useIntl)(),p=c(e),m=t?c({id:t,defaultMessage:t}):"",g=f=>{s({target:{name:o,value:f,type:"select"}}),!!u&&n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}})};return r.createElement(ie.Select,{error:m,label:p,id:o,name:o,onChange:g,value:u||""},l.map(({metadatas:{intlLabel:f,disabled:h,hidden:b},key:T,value:C})=>r.createElement(ie.Option,{key:T,value:C,disabled:h,hidden:b},c({id:f.id,defaultMessage:f.defaultMessage},f.values))))};tn.defaultProps={error:void 0,value:""},tn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const Lo=tn,nn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:l,value:u})=>{const{formatMessage:c}=(0,F.useIntl)(),p=c(e),m=t?c({id:t,defaultMessage:t}):"",g=f=>{s({target:{name:o,value:f,type:"select"}}),u&&(f==="biginteger"&&u!=="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(f)&&u==="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})))};return r.createElement(ie.Select,{error:m,label:p,id:o,name:o,onChange:g,value:u||""},l.map(({metadatas:{intlLabel:f,disabled:h,hidden:b},key:T,value:C})=>r.createElement(ie.Option,{key:T,value:C,disabled:h,hidden:b},c(f))))};nn.defaultProps={error:void 0,value:""},nn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const qo=nn;var Bo=Object.defineProperty,na=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,aa=(e,t,n)=>t in e?Bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uo=(e,t)=>{for(var n in t||(t={}))ko.call(t,n)&&aa(e,n,t[n]);if(na)for(var n of na(t))jo.call(t,n)&&aa(e,n,t[n]);return e};const an=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:l,value:u})=>{const{formatMessage:c}=(0,F.useIntl)(),p=(0,r.useRef)(l),m=(o==null?void 0:o.displayName)||"";(0,r.useEffect)(()=>{m?p.current({target:{name:s,value:(0,Yn.Z)(m)}}):p.current({target:{name:s,value:""}})},[m,s]);const g=t?c({id:t,defaultMessage:t}):"",f=e?c({id:e.id,defaultMessage:e.defaultMessage},Uo({},e.values)):"",h=c(n);return r.createElement(Wt.TextInput,{error:g,label:h,id:s,hint:f,name:s,onChange:l,value:u||""})};an.defaultProps={description:null,error:null,value:null},an.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const _o=an;var Wo=Object.defineProperty,$o=Object.defineProperties,zo=Object.getOwnPropertyDescriptors,ra=Object.getOwnPropertySymbols,Vo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,oa=(e,t,n)=>t in e?Wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sa=(e,t)=>{for(var n in t||(t={}))Vo.call(t,n)&&oa(e,n,t[n]);if(ra)for(var n of ra(t))Go.call(t,n)&&oa(e,n,t[n]);return e},Ko=(e,t)=>$o(e,zo(t));const ia=({form:e,formErrors:t,genericInputProps:n,modifiedData:o,onChange:s})=>{const{formatMessage:l}=(0,F.useIntl)();return e.map((u,c)=>u.items.length===0?null:r.createElement(z.Box,{key:c},u.sectionTitle&&r.createElement(z.Box,{paddingBottom:4},r.createElement(H.Typography,{variant:"delta",as:"h3"},l(u.sectionTitle))),r.createElement(Se.Grid,{gap:4},u.items.map((p,m)=>{const g=`${c}.${m}`,f=Z()(o,p.name,""),h=Object.keys(t).find(T=>T===p.name),b=h?t[h].id:Z()(t,[...p.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);return p.type==="pushRight"?r.createElement(Se.GridItem,{col:p.size||6,key:p.name||g},r.createElement("div",null)):r.createElement(Se.GridItem,{col:p.size||6,key:p.name||g},r.createElement(E.GenericInput,Ko(sa(sa({},p),n),{error:b,onChange:s,value:f})))}))))};ia.propTypes={form:a().arrayOf(a().object).isRequired,formErrors:a().object.isRequired,genericInputProps:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired};const la=ia;var Ho=i(90353),Xo=Object.defineProperty,ca=Object.getOwnPropertySymbols,Yo=Object.prototype.hasOwnProperty,Jo=Object.prototype.propertyIsEnumerable,ua=(e,t,n)=>t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,da=(e,t)=>{for(var n in t||(t={}))Yo.call(t,n)&&ua(e,n,t[n]);if(ca)for(var n of ca(t))Jo.call(t,n)&&ua(e,n,t[n]);return e};const rn=({description:e,disabled:t,error:n,intlLabel:o,labelAction:s,name:l,onChange:u,placeholder:c,value:p})=>{const{formatMessage:m}=(0,F.useIntl)(),g=n?m({id:n,defaultMessage:n}):"",f=e?m({id:e.id,defaultMessage:e.defaultMessage},da({},e.values)):"",h=m(o),b=c?m({id:c.id,defaultMessage:c.defaultMessage},da({},c.values)):"",T=Array.isArray(p)?p.join(`
`):"",C=A=>{const M=A.target.value.split(`
`);u({target:{name:l,value:M}})};return r.createElement(Ho.Textarea,{disabled:t,error:g,label:h,labelAction:s,id:l,hint:f,name:l,onChange:C,placeholder:b,value:T},T)};rn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},rn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,labelAction:a().element,name:a().string.isRequired,onChange:a().func.isRequired,placeholder:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),value:a().oneOfType([a().array,a().string])};const Qo=rn,es=(e,t)=>{const n=Z()(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:Z()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:u,targetAttribute:c})=>{const p=(0,Vt.Z)(l,c);return u==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},ts=(e="",t,n)=>{const o=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",l=n.includes(t),u=!s&&!l;return s?[[...o,"uid"],["component","dynamiczone"]]:u?[o,["component"]]:[o]},ns=({modalType:e,forTarget:t,kind:n,actionType:o,step:s})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${o}${s!=="null"&&s!==null&&o!=="edit"?".step":""}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},ma=e=>e.reduce((t,n)=>{const o=n.items.reduce((s,l)=>(l.name&&s.push(l.name),s),[]);return[...t,...o]},[]);var v=i(5173),Ke=i(57687);const as={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},pa=new RegExp("^[A-Za-z][-_0-9A-Za-z]*$"),rs=e=>{const t={name:v.Z_().matches(pa,E.translatedErrors.regex).test({name:"nameNotAllowed",message:E.translatedErrors.unique,test:n=>n?!e.includes((0,S.toLower)(n)):!1}).required(E.translatedErrors.required)};return v.Ry(t)},os=(e,t,n)=>{const o={displayName:v.Z_().test({name:"nameAlreadyUsed",message:E.translatedErrors.unique,test:s=>{if(!s)return!1;const l=(0,Ke.N)(s,n);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test:s=>s?!t.includes((0,S.toLower)((0,S.trim)(s))):!1}).required(E.translatedErrors.required),category:v.Z_().matches(pa,E.translatedErrors.regex).required(E.translatedErrors.required),icon:v.Z_().required(E.translatedErrors.required)};return v.Ry(o)},on={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},He={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"component-icon-picker",size:12,intlLabel:{id:(0,d.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},P={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}};var ss=Object.defineProperty,is=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,ga=Object.getOwnPropertySymbols,cs=Object.prototype.hasOwnProperty,us=Object.prototype.propertyIsEnumerable,fa=(e,t,n)=>t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sn=(e,t)=>{for(var n in t||(t={}))cs.call(t,n)&&fa(e,n,t[n]);if(ga)for(var n of ga(t))us.call(t,n)&&fa(e,n,t[n]);return e},ln=(e,t)=>is(e,ls(t));const ds={boolean:()=>({sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.private]}]}),component:({repeatable:e},t)=>t==="1"?{sections:He.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.private,P.max,P.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.private]}]},date:({type:e})=>({sections:[{sectionTitle:null,items:[ln(sn({},P.default),{type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.unique,P.private]}]}),dynamiczone:()=>({sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.max,P.min]}]}),email:()=>({sections:[{sectionTitle:null,items:[ln(sn({},P.default),{type:"email"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.unique,P.maxLength,P.minLength,P.private]}]}),enumeration:e=>({sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.private]}]}),json:()=>({sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.private]}]}),media:()=>({sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.private,P.required]}]}),number:e=>{const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.unique,P.max,P.min,P.private]}]}},password:()=>({sections:[{sectionTitle:null,items:[P.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.maxLength,P.minLength,P.private]}]}),relation:()=>({sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.private]}]}),richtext:()=>({sections:[{sectionTitle:null,items:[P.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.maxLength,P.minLength,P.private]}]}),text:()=>({sections:[{sectionTitle:null,items:[P.default,P.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.unique,P.maxLength,P.minLength,P.private]}]}),uid:e=>({sections:[{sectionTitle:null,items:[ln(sn({},P.default),{disabled:Boolean(e.targetField),type:"text"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[P.required,P.maxLength,P.minLength,P.private]}]})},Fe={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var ms=Object.defineProperty,ps=Object.defineProperties,gs=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertySymbols,fs=Object.prototype.hasOwnProperty,ys=Object.prototype.propertyIsEnumerable,ha=(e,t,n)=>t in e?ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hs=(e,t)=>{for(var n in t||(t={}))fs.call(t,n)&&ha(e,n,t[n]);if(ya)for(var n of ya(t))ys.call(t,n)&&ha(e,n,t[n]);return e},bs=(e,t)=>ps(e,gs(t));const ba={advanced:ds,base:{component:(e,t)=>{if(t==="1"){const n=e.createComponent===!0?He.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[on]},...n]}}return{sections:[{sectionTitle:null,items:[Fe,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date:()=>({sections:[{sectionTitle:null,items:[Fe,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}),enumeration:()=>({sections:[{sectionTitle:null,items:[Fe]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}),media:()=>({sections:[{sectionTitle:null,items:[Fe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}),number:()=>({sections:[{sectionTitle:null,items:[Fe,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}),relation:()=>({sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}),string:()=>({sections:[{sectionTitle:null,items:[Fe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}),text:()=>({sections:[{sectionTitle:null,items:[Fe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}),uid:(e,t,n)=>{const o=n.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[bs(hs({},Fe),{placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}}),{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...o]}]}]}}}},vs={sections:[{sectionTitle:null,items:[Fe]}]};var Ts=i(40791),Cs=i.n(Ts);const Es=e=>Cs()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Ms=e=>/^[0-9]/.test(e),va=new RegExp("^[A-Za-z][_0-9A-Za-z]*$"),Ta=e=>({name:"attributeNameAlreadyUsed",message:E.translatedErrors.unique,test:t=>t?!e.includes(t):!1}),gl=(e,t,n)=>{const o=get(e,["schema","attributes"],{});return Object.keys(o).filter(s=>t?s!==n:!0)},cn=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test:t=>t?!e.includes(t):!1}),y={default:()=>v.Z_().nullable(),max:()=>v.Rx().integer().nullable(),min:()=>v.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>v.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>v.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),name:(e,t)=>v.Z_().test(Ta(e)).test(cn(t)).matches(va,E.translatedErrors.regex).required(E.translatedErrors.required),required:()=>v.O7(),type:()=>v.Z_().required(E.translatedErrors.required),unique:()=>v.O7().nullable()},un=(e,t)=>({name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength(),regex:v.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test:o=>new RegExp(o)!==null}).nullable()}),dn={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN((0,S.toNumber)(e))?!0:(0,S.toNumber)(t)>=(0,S.toNumber)(e)}},Ca={date:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},datetime:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},time:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},default:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},biginteger:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Z_().nullable().matches(/^-?\d*$/),unique:y.unique(),required:y.required(),max:v.Z_().nullable().matches(/^-?\d*$/,E.translatedErrors.regex),min:v.Z_().nullable().test(dn).matches(/^-?\d*$/,E.translatedErrors.regex)};return v.Ry(n)},boolean:(e,t)=>{const n={name:y.name(e,t),default:v.O7().nullable(),required:y.required(),unique:y.unique()};return v.Ry(n)},component:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min(),component:v.Z_().required(E.translatedErrors.required)};return v.Ry(n)},decimal:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Rx(),required:y.required(),max:v.Rx(),min:v.Rx().test(dn)};return v.Ry(n)},dynamiczone:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min()};return v.Ry(n)},email:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Z_().email().nullable(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(n)},enumeration:(e,t)=>{const n=new RegExp("^[_A-Za-z][_0-9A-Za-z]*$"),o={name:v.Z_().test(Ta(e)).test(cn(t)).matches(n,E.translatedErrors.regex).required(E.translatedErrors.required),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),enum:v.IX().of(v.Z_()).min(1,E.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(s){const l=s.map(Es);return!ze()(l).groupBy().pickBy(c=>c.length>1).keys().value().length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:s=>!s.some(l=>l==="")}).test({name:"doesNotStartWithANumber",message:(0,d.Z)("error.validation.enum-number"),test:s=>!s.some(Ms)}),enumName:v.Z_().nullable()};return v.Ry(o)},float:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),default:v.Rx(),max:v.Rx(),min:v.Rx().test(dn)};return v.Ry(n)},integer:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Rx().integer(),unique:y.unique(),required:y.required(),max:y.max(),min:y.min()};return v.Ry(n)},json:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),unique:y.unique()};return v.Ry(n)},media:(e,t)=>{const n={name:y.name(e,t),type:y.type(),multiple:v.O7(),required:y.required(),allowedTypes:v.IX().of(v.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return v.Ry(n)},password:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(n)},relation:(e,t,n,{initialData:o,modifiedData:s})=>{const l={name:y.name(e,t),target:v.Z_().required(E.translatedErrors.required),relation:v.Z_().required(),type:v.Z_().required(),targetAttribute:v.Vo(()=>{const u=(0,Vt.Z)(s.relation,s.targetAttribute);if(u==="oneWay"||u==="manyWay")return v.Z_().nullable();let c=v.Z_().test(cn(t)),m=[...n.map(({name:g})=>g),s.name].filter(g=>g!==o.targetAttribute);return c.matches(va,E.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test:g=>g?!m.includes(g):!1}).required(E.translatedErrors.required)})};return v.Ry(l)},richtext:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(n)},string:(e,t)=>{const n=un(e,t);return v.Ry(n)},text:(e,t)=>{const n=un(e,t);return v.Ry(n)},uid:(e,t)=>{const n=un(e,t);return v.Ry(n)}},Ea={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},mn={advanced:{default:()=>({sections:[{sectionTitle:{id:(0,d.Z)("form.contentType.divider.draft-publish"),defaultMessage:"Draft/Publish"},items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft/publish system"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Write a draft version of each entry before publishing it"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]})},base:{create:()=>({sections:[{sectionTitle:null,items:[Ea,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}),edit:()=>({sections:[{sectionTitle:null,items:[Ea,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]})}},Ps=(e,t,n,o)=>{const s={displayName:v.Z_().test({name:"nameAlreadyUsed",message:E.translatedErrors.unique,test:l=>{if(!l)return!1;const u=(0,Ke.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test:l=>l?!t.includes((0,S.toLower)((0,S.trim)(l))):!1}).required(E.translatedErrors.required),pluralName:v.Z_().test({name:"pluralNameAlreadyUsed",message:E.translatedErrors.unique,test:l=>l?!o.includes(l):!1}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test:(l,u)=>l?u.parent.singularName!==l:!1}).required(E.translatedErrors.required),singularName:v.Z_().test({name:"singularNameAlreadyUsed",message:E.translatedErrors.unique,test:l=>l?!n.includes(l):!1}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test:(l,u)=>l?u.parent.pluralName!==l:!1}).required(E.translatedErrors.required),draftAndPublish:v.O7(),kind:v.Z_().oneOf(["singleType","collectionType"])};return v.Ry(s)},pn={advanced:{default:()=>({sections:He.advanced("componentToCreate.")})},base:{createComponent:()=>({sections:[{sectionTitle:null,items:[on]},...He.base("componentToCreate.")]}),default:()=>({sections:[{sectionTitle:null,items:[on]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]})}};var Ma=i(98399),Os=Object.defineProperty,Rs=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,Ra=(e,t,n)=>t in e?Os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xa=(e,t)=>{for(var n in t||(t={}))Pa.call(t,n)&&Ra(e,n,t[n]);if(yt)for(var n of yt(t))Oa.call(t,n)&&Ra(e,n,t[n]);return e},Ss=(e,t)=>Rs(e,xs(t)),Sa=(e,t)=>{var n={};for(var o in e)Pa.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&yt)for(var o of yt(e))t.indexOf(o)<0&&Oa.call(e,o)&&(n[o]=e[o]);return n};const je={attribute:{schema(e,t,n,o,s,l){const c=Z()(e,["schema","attributes"],[]).filter(({name:p})=>p!==s.initialData.name).map(({name:p})=>p);try{let p=Ca[t](c,n.attributes,o,s);return l.makeValidator(["attribute",t],p,c,n.attributes,o,s)}catch(p){return Ma.error("Error yup build schema",p),Ca.default(c,n.attributes)}},form:{advanced(e){var t=e,{data:n,type:o,step:s,extensions:l}=t,u=Sa(t,["data","type","step","extensions"]);try{const c=ba.advanced[o](n,s).sections,p=l.getAdvancedForm(["attribute",o],xa({data:n,type:o,step:s},u));return{sections:c.reduce((g,f)=>(f.sectionTitle===null?g.push(f):g.push(Ss(xa({},f),{items:[...f.items,...p]})),g),[])}}catch(c){return Ma.error(c),{sections:[]}}},base({data:e,type:t,step:n,attributes:o}){try{return ba.base[t](e,n,o)}catch(s){return vs}}}},contentType:{schema(e,t,n,o,s,l){const u=Object.values(l).map(h=>h.schema.singularName),c=Object.values(l).map(h=>h.schema.pluralNames),p=t?e.filter(h=>h!==n):e,m=t?u.filter(h=>Z()(l,[n,"schema","singularName"],"")!==h):u,g=t?c.filter(h=>Z()(l,[n,"schema","pluralName"],"")!==h):c,f=Ps(p,o.models,m,g);return s.makeValidator(["contentType"],f,p,o.models,m,g)},form:{base({actionType:e}){return e==="create"?mn.base.create():mn.base.edit()},advanced(e){var t=e,{extensions:n}=t,o=Sa(t,["extensions"]);const s=mn.advanced.default(o).sections,l=n.getAdvancedForm(["contentType"]);return{sections:[...s,{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:l}]}}}},component:{schema(e,t,n,o=!1,s=null){const l=o?e.filter(u=>u!==s):e;return os(l,n.models,t)},form:{advanced(){return{sections:He.advanced()}},base(){return{sections:He.base()}}}},addComponentToDynamicZone:{form:{advanced(){return pn.advanced.default()},base({data:e}){return Z()(e,"createComponent",!1)?pn.base.createComponent():pn.base.default()}}},editCategory:{schema(e,t){const n=e.filter(o=>o!==t.name).map(o=>Ie()(o));return rs(n)},form:{advanced:()=>({sections:[]}),base(){return as.base}}}};var Aa=i(12463),As=i(62170);const Ds=()=>e=>e[`${$.Z}_formModal`]||As.E,Ns=()=>(0,Aa.P1)(Ds(),e=>e);var Da=i(98399),Is=Object.defineProperty,Zs=Object.defineProperties,Fs=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,Za=(e,t,n)=>t in e?Is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ct=(e,t)=>{for(var n in t||(t={}))Na.call(t,n)&&Za(e,n,t[n]);if(ht)for(var n of ht(t))Ia.call(t,n)&&Za(e,n,t[n]);return e},gn=(e,t)=>Zs(e,Fs(t)),bt=(e,t)=>{var n={};for(var o in e)Na.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ht)for(var o of ht(e))t.indexOf(o)<0&&Ia.call(e,o)&&(n[o]=e[o]);return n},Fa=(e,t,n)=>new Promise((o,s)=>{var l=p=>{try{c(n.next(p))}catch(m){s(m)}},u=p=>{try{c(n.throw(p))}catch(m){s(m)}},c=p=>p.done?o(p.value):Promise.resolve(p.value).then(l,u);c((n=n.apply(e,t)).next())});const ws=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:o,actionType:s,attributeName:l,attributeType:u,categoryName:c,dynamicZoneTarget:p,forTarget:m,modalType:g,isOpen:f,kind:h,step:b,targetUid:T}=(0,Ve.Z)(),C=(0,r.useRef)(),A=(0,r.useMemo)(Ns,[]),M=(0,Ne.I0)(),O=(0,E.useNotification)(),L=(0,Ne.v9)(B=>A(B),Ne.wU),{push:Y}=(0,W.useHistory)(),{trackUsage:k}=(0,E.useTracking)(),{formatMessage:ne}=(0,F.useIntl)(),{getPlugin:R}=(0,E.useStrapiApp)(),j=R($.Z).apis.forms,K=j.components.inputs,{addAttribute:le,addCreatedComponentToDynamicZone:oe,allComponentsCategories:q,changeDynamicZoneComponents:x,contentTypes:Ee,components:Ye,createSchema:Je,deleteCategory:Cn,deleteData:vt,editCategory:En,submitData:Mn,modifiedData:pe,nestedComponents:Pn,setModifiedData:On,sortedContentTypesList:Rn,updateSchema:xn,reservedNames:_e}=(0,Te.Z)(),{componentToCreate:Qe,formErrors:we,initialData:Me,isCreatingComponentWhileAddingAField:dt,modifiedData:N}=L,Ae=m==="contentType"||m==="component"?[m]:[m,T];(0,r.useEffect)(()=>{if(f){const B=Rn.filter(ot);g==="editCategory"&&On(),s==="edit"&&g==="attribute"&&m==="contentType"&&k("willEditFieldOfContentType");const ke=[...Ae,"schema","attributes"],Le=en(Z()(pe,ke,[]),p)||null;if(g==="editCategory"&&s==="edit"&&M({type:te._H,modalType:g,actionType:s,data:{name:c}}),g==="contentType"&&s==="create"&&M({type:te._H,modalType:g,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&s==="edit"){const{displayName:_,draftAndPublish:ue,kind:se,pluginOptions:ge,pluralName:De,singularName:Oe}=Z()(pe,[...Ae,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});M({type:te._H,actionType:s,modalType:g,data:{displayName:_,draftAndPublish:ue,kind:se,pluginOptions:ge,pluralName:De,singularName:Oe}})}if(g==="component"&&s==="edit"){const _=Z()(pe,Ae,{});M({type:te._H,actionType:s,modalType:g,data:{displayName:_.schema.displayName,category:_.category,icon:_.schema.icon}})}if(g==="addComponentToDynamicZone"&&s==="edit"){const _=gn(ct({},Le),{components:[],name:p,createComponent:!1,componentToCreate:{type:"component"}});M({type:te.VZ,attributeToEdit:_})}if(u){const _=en(Z()(pe,ke,[]),l),ue=gn(ct({},_),{name:l});u==="component"&&s==="edit"&&(ue.repeatable||xt()(ue,"repeatable",!1)),M({type:te.S0,attributeType:u,nameToSetForRelation:Z()(B,["0","title"],"error"),targetUid:Z()(B,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:ue,step:b,forTarget:m})}}else M({type:te.c2})},[s,l,u,c,p,m,f,g]);const D=g==="contentType",I=g==="component",w=g==="attribute",J=u==="component"&&w,ae=s==="create",ce=Z()(N,"createComponent",!1)||dt,ye=b==="1",et=g==="editCategory",We=g==="chooseAttribute",tt=(0,Ke.E)(N.displayName||""),nr=Z()(pe,[...Ae,"schema","attributes"],null),qi=()=>Fa(void 0,null,function*(){let B;const ke=ce&&b==="1"?Z()(N,"componentToCreate",{}):N;if(D)B=je.contentType.schema(Object.keys(Ee),s==="edit",Z()(pe,[...Ae,"uid"],null),_e,j,Ee);else if(I)B=je.component.schema(Object.keys(Ye),N.category||"",_e,s==="edit",Z()(pe,[...Ae,"uid"],null),j);else if(J&&ce&&ye)B=je.component.schema(Object.keys(Ye),Z()(N,"componentToCreate.category",""),_e,j);else if(w&&!ye){const Le=u==="relation"?"relation":N.type;let _=[];if(Le==="relation"){const ue=Z()(N,["target"],null);_=Z()(Ee,[ue,"schema","attributes"],[]).filter(({name:ge})=>s!=="edit"?!0:ge!==Me.targetAttribute)}B=je.attribute.schema(Z()(pe,Ae,{}),Le,_e,_,{modifiedData:N,initialData:Me},j)}else if(et)B=je.editCategory.schema(q,Me,j);else if(ye&&ce)B=je.component.schema(Object.keys(Ye),Z()(N,"componentToCreate.category",""),_e,j);else return;yield B.validate(ke,{abortEarly:!1})}),ar=(0,r.useCallback)(B=>{var{target:ke}=B,Le=ke,{name:_,value:ue,type:se}=Le,ge=bt(Le,["name","value","type"]);const De=["enumName","max","min","maxLength","minLength","regex","default"];let Oe;De.includes(_)&&ue===""?Oe=null:Oe=ue;const Re=Object.assign({},we);_==="max"&&delete Re.min,_==="maxLength"&&delete Re.minLength,delete Re[_],M({type:te.Ey,errors:Re}),M(ct({type:te.P0,keys:_.split("."),value:Oe},ge))},[M,we]),Pe=(B,...ke)=>Fa(void 0,[B,...ke],function*(Le,_=ae){Le.preventDefault();try{yield qi(),ki(_);const ue=m==="components"?T:tt;if(D)if(ae)Je(gn(ct({},N),{kind:h}),g,tt),Y({pathname:`/plugins/${$.Z}/content-types/${tt}`}),t({forTarget:m,targetUid:ue});else{es(pe,N)?(e(),Mn(N)):O({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(ae){const se=(0,Ke.N)(N.displayName,N.category),ge=N,{category:De}=ge,Oe=bt(ge,["category"]);Je(Oe,"component",se,De),Y({pathname:`/plugins/${$.Z}/component-categories/${De}/${se}`}),t({forTarget:m,targetUid:se})}else{xn(N,g,T),e();return}else if(et){if(Ie()(Me.name)===Ie()(N.name)){e();return}En(Me.name,N);return}else if(w&&!ce){if(u==="dynamiczone"){le(N,m,T,s==="edit",Me),ae?(M({type:te.I}),C.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:N.name})):e();return}if(!J){le(N,m,T,s==="edit",Me),_?t({forTarget:m,targetUid:ue}):e();return}if(ye){o(),M({type:te.yC,forTarget:m});return}le(N,m,T,s==="edit",Me,!0),_?t({forTarget:m,targetUid:T}):e()}else if(w&&ce){if(ye){k("willCreateComponentFromAttributesModal"),M({type:te.oF,forTarget:m}),o();return}const se=Qe,{category:ge,type:De}=se,Oe=bt(se,["category","type"]),Re=(0,Ke.N)(Qe.displayName,ge);Je(Oe,De,Re,ge,ce),le(N,m,T,!1),M({type:te.c2}),_?t({forTarget:"components",targetUid:Re}):e();return}else{if(ye)if(ce){const se=N.componentToCreate,{category:ge,type:De}=se,Oe=bt(se,["category","type"]),Re=(0,Ke.N)(N.componentToCreate.displayName,ge);Je(Oe,De,Re,ge,ce),oe(p,[Re]),t({forTarget:"components",targetUid:Re})}else x(p,N.components),e();else Da.error("This case is not handled");return}M({type:te.c2})}catch(ue){const se=(0,E.getYupInnerErrors)(ue);Da.log({err:ue,errors:se}),M({type:te.Ey,errors:se})}}),rr=()=>{e(),M({type:te.c2})},Bi=B=>{if(B==="advanced"){if(D){k("didSelectContentTypeSettings");return}m==="contentType"&&k("didSelectContentTypeFieldSettings")}},ki=B=>{g==="attribute"&&m==="contentType"&&u!=="dynamiczone"&&B&&k("willAddMoreFieldToContentType")},ji=()=>!!(g==="editCategory"||g==="component"||mt()(N,"createComponent")),Ui=ts(m,T,Pn);if(!f||!g)return null;const or=Z()(je,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),_i=m==="components"||m==="component",sr={customInputs:ct({"allowed-types-select":Dt,"boolean-radio-group":Nr,"checkbox-with-number-field":Br,"component-icon-picker":oo,"content-type-radio-group":zr,"radio-group":_t,relation:xo,"select-category":Zo,"select-component":Fo,"select-components":wo,"select-default-boolean":Er,"select-number":qo,"select-date":Lo,"toggle-draft-publish":gr,"text-plural":Io,"text-singular":_o,"textarea-enum":Qo},K),componentToCreate:Qe,dynamicZoneTarget:p,formErrors:we,isAddingAComponentToAnotherComponent:_i,isCreatingComponentWhileAddingAField:dt,mainBoxHeader:Z()(pe,[...Ae,"schema","displayName"],""),modifiedData:N,naturePickerType:m,isCreating:ae,targetUid:T,forTarget:m},ir=or.advanced({data:N,type:u,step:b,actionType:s,attributes:nr,extensions:j,forTarget:m,contentTypeSchema:pe.contentType||{}}).sections,lr=or.base({data:N,type:u,step:b,actionType:s,attributes:nr,extensions:j,forTarget:m,contentTypeSchema:pe.contentType||{}}).sections,Wi=ma(lr),$i=ma(ir),zi=Object.keys(we).some(B=>Wi.includes(B)),Vi=Object.keys(we).some(B=>$i.includes(B)),Gi=Z()(Ee,[T,"schema","kind"]);return r.createElement(r.Fragment,null,r.createElement(Be.ModalLayout,{onClose:rr,labelledBy:"title"},r.createElement(fr,{actionType:s,attributeName:l,categoryName:c,contentTypeKind:h,dynamicZoneTarget:p,modalType:g,forTarget:m,targetUid:T,attributeType:u}),We&&r.createElement(Q,{attributes:Ui,forTarget:m,kind:Gi||"collectionType"}),!We&&r.createElement("form",{onSubmit:Pe},r.createElement(Be.ModalBody,null,r.createElement(xe.TabGroup,{label:"todo",id:"tabs",variant:"simple",ref:C,onTabChange:B=>{B===1&&Bi("advanced")}},r.createElement(ee.Flex,{justifyContent:"space-between"},r.createElement(H.Typography,{as:"h2",variant:"beta"},ne({id:ns({actionType:s,forTarget:m,kind:h,step:b,modalType:g}),defaultMessage:"Add new field"},{type:ve()(ne({id:(0,d.Z)(`attribute.${u}`)})),name:ve()(l),step:b})),r.createElement(xe.Tabs,null,r.createElement(xe.Tab,{hasError:zi},ne({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Base settings"})),r.createElement(xe.Tab,{hasError:Vi,disabled:ji()},ne({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),r.createElement(nt.Divider,null),r.createElement(z.Box,{paddingTop:6},r.createElement(xe.TabPanels,null,r.createElement(xe.TabPanel,null,r.createElement(me.Stack,{spacing:6},r.createElement(la,{form:lr,formErrors:we,genericInputProps:sr,modifiedData:N,onChange:ar}))),r.createElement(xe.TabPanel,null,r.createElement(me.Stack,{spacing:6},r.createElement(la,{form:ir,formErrors:we,genericInputProps:sr,modifiedData:N,onChange:ar}))))))),r.createElement(Be.ModalFooter,{endActions:r.createElement(hr,{deleteCategory:Cn,deleteContentType:vt,deleteComponent:vt,categoryName:Me.name,isAttributeModal:g==="attribute",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:u==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:N.createComponent||!1,isCreatingComponentInDz:N.createComponent||!1,isCreatingComponentWhileAddingAField:dt,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:u==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:b==="1",onSubmitAddComponentAttribute:Pe,onSubmitAddComponentToDz:Pe,onSubmitCreateComponent:Pe,onSubmitCreateContentType:Pe,onSubmitCreateDz:Pe,onSubmitEditAttribute:Pe,onSubmitEditCategory:Pe,onSubmitEditComponent:Pe,onSubmitEditContentType:Pe,onSubmitEditDz:Pe}),startActions:r.createElement(V.Button,{variant:"tertiary",onClick:rr},ne({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))}))))},wa=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),Ls=(e,t,n,o)=>{const s=t.reduce((c,p)=>{const m=Z()(n,p,{});return c[p]=m,c},{});return{[o?"contentType":"component"]:e,components:s}},La=(e,t)=>{const n=Object.keys(e).map(o=>(0,S.get)(e,[o,...t],""));return(0,qe.Z)(n)};var qs=i(2445);const Bs=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=(0,S.get)(e,[o,"schema","attributes"],[]),l=ks(s);return[...n,...l]},[]);return(0,qe.Z)(t)},ks=e=>e.reduce((t,n)=>{const{type:o,component:s}=n;return o==="component"&&t.push(s),t},[]),qa=Bs,js=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=Z()(e,[o],{}),l=s.uid;return Us(s)&&n.push(l),n},[]);return(0,qe.Z)(t)},Us=e=>Z()(e,["schema","attributes"],[]).some(n=>{const{type:o}=n;return o==="component"});var Ba=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,Ws=Object.prototype.propertyIsEnumerable,$s=(e,t)=>{var n={};for(var o in e)_s.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ba)for(var o of Ba(e))t.indexOf(o)<0&&Ws.call(e,o)&&(n[o]=e[o]);return n};const zs=(e,t)=>{const n=Object.keys(e).filter(o=>{const s=(0,S.get)(e,o,{}),l=(0,S.get)(t,o,{}),u=(0,S.get)(s,["isTemporary"],!1),c=!(0,S.isEqual)(s,l);return u||c});return(0,qe.Z)(n)},Vs=(e,t)=>{const n=ja((0,S.get)(e,"schema.attributes",[]),t),o=(0,S.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},o,{category:e.category},(0,S.omit)(e.schema,"attributes"),{attributes:n})},ka=(e,t=!1)=>{const n=(0,S.get)(e,"uid",null),o=ja((0,S.get)(e,"schema.attributes",[]),n),s=t?{category:(0,S.get)(e,"category","")}:{},l=Object.assign(s,(0,S.omit)(e.schema,"attributes"),{attributes:o});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},ja=(e,t)=>e.reduce((n,o)=>{var s=o,{name:l}=s,u=$s(s,["name"]);const c=u,p=c.target===t,m=c.type==="relation",g=(0,S.get)(c,"targetAttribute",null);if(!p)if(m){const f=Object.assign({},c,{targetAttribute:Ua(g)});n[l]=fn(f)}else n[l]=fn(c);if(p){const f=c.target,h=Object.assign({},c,{target:f,targetAttribute:Ua(g)});n[l]=fn(h)}return n},{}),Ua=e=>e==="-"?null:e,fn=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),Gs=(e,t,n,o=!1)=>zs(e,t).map(u=>{const c=(0,S.get)(e,u,{});return Vs(c,n,o)}),Ks=e=>(0,S.sortBy)(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${$.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>(0,S.camelCase)(t.title)),Hs=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0);var re=i(51462),Xs=i(79764);const Ys=()=>e=>e[`${$.Z}_dataManagerProvider`]||Xs.E,Js=()=>(0,Aa.P1)(Ys(),e=>e);var Qs=Object.defineProperty,ei=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,_a=Object.getOwnPropertySymbols,ni=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,Wa=(e,t,n)=>t in e?Qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t)=>{for(var n in t||(t={}))ni.call(t,n)&&Wa(e,n,t[n]);if(_a)for(var n of _a(t))ai.call(t,n)&&Wa(e,n,t[n]);return e},hn=(e,t)=>ei(e,ti(t));const ri=e=>Object.keys(e).reduce((t,n)=>{const o=e[n].schema;return t[n]=hn(yn({},e[n]),{schema:hn(yn({},o),{attributes:oi(o.attributes)})}),t},{}),oi=e=>Object.keys(e).reduce((t,n)=>(t.push(hn(yn({},e[n]),{name:n})),t),[]),$a=ri;var ut=i(98399),si=Object.defineProperty,za=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,li=Object.prototype.propertyIsEnumerable,Va=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ga=(e,t)=>{for(var n in t||(t={}))ii.call(t,n)&&Va(e,n,t[n]);if(za)for(var n of za(t))li.call(t,n)&&Va(e,n,t[n]);return e},Xe=(e,t,n)=>new Promise((o,s)=>{var l=p=>{try{c(n.next(p))}catch(m){s(m)}},u=p=>{try{c(n.throw(p))}catch(m){s(m)}},c=p=>p.done?o(p.value):Promise.resolve(p.value).then(l,u);c((n=n.apply(e,t)).next())});const bn=({allIcons:e,children:t,components:n,contentTypes:o,isLoading:s,isLoadingForDataToBeSet:l,initialData:u,modifiedData:c,reservedNames:p})=>{const m=(0,Ne.I0)(),g=(0,E.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:h}=(0,E.useAutoReloadOverlayBlocker)(),{setCurrentStep:b}=(0,E.useGuidedTour)(),{getPlugin:T}=(0,E.useStrapiApp)(),{apis:C}=T($.Z),{autoReload:A}=(0,E.useAppInfos)(),{formatMessage:M}=(0,F.useIntl)(),{trackUsage:O}=(0,E.useTracking)(),{refetchPermissions:L}=(0,E.useRBACProvider)(),{pathname:Y}=(0,W.useLocation)(),{onCloseModal:k}=(0,Ve.Z)(),ne=(0,W.useRouteMatch)(`/plugins/${$.Z}/content-types/:uid`),R=(0,W.useRouteMatch)(`/plugins/${$.Z}/component-categories/:categoryUid/:componentUid`),U=(0,r.useRef)();U.current=M;const j=A,K=ne!==null,le=K?"contentType":"component",oe=K?(0,S.get)(ne,"params.uid",null):(0,S.get)(R,"params.componentUid",null),q=new AbortController,{signal:x}=q,Ee=(0,r.useRef)(),Ye=K?"content-types":"components";Ee.current=()=>Xe(void 0,null,function*(){try{const[{data:D},{data:I},w]=yield Promise.all(["components","content-types","reserved-names"].map(et=>(0,E.request)(`/${$.Z}/${et}`,{method:"GET",signal:x}))),J=wa(D),ae=$a(J),ce=wa(I),ye=$a(ce);m({type:re.Id,components:ae,contentTypes:ye,reservedNames:w})}catch(D){ut.error({err:D}),g({type:"warning",message:{id:"notification.error"}})}}),(0,r.useEffect)(()=>{Ee.current()},[]),(0,r.useEffect)(()=>{!s&&oe&&Qe()},[s,Y,oe]),(0,r.useEffect)(()=>{A||g({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[A,g]);const Je=(D,I,w,J=!1,ae,ce=!1)=>{const ye=J?re.JO:re.gz;m({type:ye,attributeToSet:D,forTarget:I,targetUid:w,initialAttribute:ae,shouldAddComponentToData:ce})},Cn=(D,I)=>{m({type:re.Uu,dynamicZoneTarget:D,componentsToAdd:I})},vt=(D,I,w,J,ae=!1)=>{const ce=I==="contentType"?re.Sh:re.VR;m({type:ce,data:D,componentCategory:J,schemaType:I,uid:w,shouldAddComponentToData:ae})},En=(D,I)=>{m({type:re.o_,dynamicZoneTarget:D,newComponents:I})},Mn=(D,I,w="")=>{const J=D==="components"?re.lw:re.ai;D==="contentType"&&O("willDeleteFieldOfContentType"),m({type:J,mainDataKey:D,attributeToRemoveName:I,componentUid:w})},pe=D=>Xe(void 0,null,function*(){try{const I=`/${$.Z}/component-categories/${D}`,w=window.confirm(M({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));k(),w&&(f(),yield(0,E.request)(I,{method:"DELETE"},!0),yield N(),m({type:re.Zl}),Ee.current())}catch(I){ut.error({err:I}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Pn=()=>Xe(void 0,null,function*(){try{const D=`/${$.Z}/${Ye}/${oe}`,I=(0,S.get)(c,[le,"isTemporary"],!1),w=window.confirm(M({id:(0,d.Z)(`popUpWarning.bodyMessage.${K?"contentType":"component"}.delete`)}));if(k(),w){if(I){m({type:re.Ap});return}f(),yield(0,E.request)(D,{method:"DELETE"},!0),m({type:re.Zl}),yield N(),Ee.current()}}catch(D){ut.error({err:D}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),On=(D,I)=>Xe(void 0,null,function*(){try{const w=`/${$.Z}/component-categories/${D}`;k(),f(),yield(0,E.request)(w,{method:"PUT",body:I},!0),yield N(),m({type:re.Zl}),Ee.current()}catch(w){ut.error({err:w}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Rn=()=>{const D=Object.assign({},n,c.components);if(!K){const w=(0,S.get)(c,"component",{});(0,S.set)(D,(0,S.get)(w,["uid"],""),w)}const I=js(D);return(0,qe.Z)(I)},xn=()=>{const D=qa(n),I=qa(c.components||{});return(0,qe.Z)([...I,...D])},_e=(D,I)=>{m({type:re.NG,dzName:D,componentToRemoveIndex:I})},Qe=()=>{const D=K?o:n,I=(0,S.get)(D,oe,{schema:{attributes:[]}}),w=(0,qs.Z)(I.schema.attributes,n),J=Ls(I,w,n,K),ae=(0,S.get)(I,"isTemporary",!1)&&(0,S.size)((0,S.get)(I,"schema.attributes",[]))===0;m({type:re.xx,schemaToSet:J,hasJustCreatedSchema:ae})},we=(0,r.useMemo)(()=>{const D=K?o:n;return oe==="create-content-type"?!1:!Object.keys(D).includes(oe)&&!s},[n,o,oe,K,s]),Me=(0,r.useMemo)(()=>{const D=Object.keys(o).filter(I=>(0,S.get)(o,[I,"schema","visible"],!0)).sort();return(0,S.get)(D,"0","create-content-type")},[o]);if(we)return r.createElement(W.Redirect,{to:`/plugins/${$.Z}/content-types/${Me}`});const dt=D=>Xe(void 0,null,function*(){var I,w;try{const J=(0,S.get)(c,[le,"isTemporary"],!1),ae={components:Gs(c.components,n,oe,J)};if(K){const We=C.forms.mutateContentTypeSchema(Ga(Ga({},ka(c.contentType)),D),u.contentType);if(!Hs(We)){g({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}ae.contentType=We,O("willSaveContentType")}else ae.component=ka(c.component,!0),O("willSaveComponent");const ce=J?"POST":"PUT",ye=`/${$.Z}/${Ye}`,et=J?ye:`${ye}/${oe}`;if(f(),yield(0,E.request)(et,{method:ce,body:ae},!0),h(),J&&(((I=u.contentType)==null?void 0:I.schema.kind)==="collectionType"||((w=u.contentType)==null?void 0:w.schema.kind)==="singleType")&&b("contentTypeBuilder.success"),yield N(),K){O("didSaveContentType");const We=(0,S.get)(ae,["contentType","schema","name"],""),tt=(0,S.get)(u,["contentType","schema","name"],"");!J&&We!==tt&&O("didEditNameOfContentType")}else O("didSaveComponent");m({type:re.Zl}),Ee.current()}catch(J){K||O("didNotSaveComponent"),ut.error({err:J.response}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),N=()=>Xe(void 0,null,function*(){yield L()}),Ae=(D,I,w)=>{m({type:re.bi,data:D,schemaType:I,uid:w})};return r.createElement(Mt.Z.Provider,{value:{addAttribute:Je,addCreatedComponentToDynamicZone:Cn,allComponentsCategories:La(n,["category"]),allComponentsIconAlreadyTaken:La(n,["schema","icon"]),allIcons:e,changeDynamicZoneComponents:En,components:n,componentsGroupedByCategory:(0,S.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:Rn(),contentTypes:o,createSchema:vt,deleteCategory:pe,deleteData:Pn,editCategory:On,isInDevelopmentMode:j,initialData:u,isInContentTypeView:K,modifiedData:c,nestedComponents:xn(),removeAttribute:Mn,removeComponentFromDynamicZone:_e,reservedNames:p,setModifiedData:Qe,sortedContentTypesList:Ks(o),submitData:dt,updateSchema:Ae}},r.createElement(r.Fragment,null,l?r.createElement(E.LoadingIndicatorPage,null):r.createElement(r.Fragment,null,t,j&&r.createElement(ws,null))))};bn.defaultProps={components:{}},bn.propTypes={allIcons:a().array.isRequired,children:a().node.isRequired,components:a().object,contentTypes:a().object.isRequired,isLoading:a().bool.isRequired,isLoadingForDataToBeSet:a().bool.isRequired,initialData:a().object.isRequired,modifiedData:a().object.isRequired,reservedNames:a().object.isRequired};const ci=Js(),ui=(0,Ne.$j)(ci,null),di=(0,Et.compose)(ui)((0,r.memo)(bn));var mi=i(73938);const Ka={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null};var pi=Object.defineProperty,gi=Object.defineProperties,fi=Object.getOwnPropertyDescriptors,Ha=Object.getOwnPropertySymbols,yi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,Xa=(e,t,n)=>t in e?pi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>{for(var n in t||(t={}))yi.call(t,n)&&Xa(e,n,t[n]);if(Ha)for(var n of Ha(t))hi.call(t,n)&&Xa(e,n,t[n]);return e},Ce=(e,t)=>gi(e,fi(t));const Ya=({children:e})=>{const[t,n]=(0,r.useState)(Ka),{trackUsage:o}=(0,E.useTracking)(),s=({attributeType:C,step:A})=>{t.forTarget==="contentType"&&o("didSelectContentTypeFieldType",{type:C}),n(M=>Ce(he({},M),{actionType:"create",modalType:"attribute",step:A,attributeType:C}))},l=({dynamicZoneTarget:C,targetUid:A})=>{n(M=>Ce(he({},M),{dynamicZoneTarget:C,targetUid:A,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:C,targetUid:A})=>{n(M=>Ce(he({},M),{actionType:"create",forTarget:C,targetUid:A,modalType:"chooseAttribute",isOpen:!0}))},c=C=>{n(A=>Ce(he(he({},A),C),{isOpen:!0}))},p=C=>{n(A=>Ce(he({},A),{categoryName:C,actionType:"edit",modalType:"editCategory",isOpen:!0}))},m=({forTarget:C,targetUid:A,attributeName:M,attributeType:O,step:L})=>{n(Y=>Ce(he({},Y),{modalType:"attribute",actionType:"edit",forTarget:C,targetUid:A,attributeName:M,attributeType:O,step:L,isOpen:!0}))},g=({modalType:C,forTarget:A,targetUid:M,kind:O})=>{n(L=>Ce(he({},L),{modalType:C,actionType:"edit",forTarget:A,targetUid:M,kind:O,isOpen:!0}))},f=()=>{n(Ka)},h=({forTarget:C,targetUid:A})=>{n(M=>Ce(he({},M),{forTarget:C,targetUid:A,modalType:"chooseAttribute"}))},b=()=>{n(C=>Ce(he({},C),{attributeType:"component",modalType:"attribute",step:"2"}))},T=({dynamicZoneTarget:C})=>{n(A=>Ce(he({},A),{dynamicZoneTarget:C,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return r.createElement(mi.Z.Provider,{value:Ce(he({},t),{onClickSelectField:s,onCloseModal:f,onNavigateToChooseAttributeModal:h,onNavigateToAddCompoToDZModal:T,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:b,onOpenModalAddField:u,onOpenModalCreateSchema:c,onOpenModalEditCategory:p,onOpenModalEditField:m,onOpenModalEditSchema:g,setFormModalNavigationState:n})},e)};Ya.propTypes={children:a().node.isRequired};const bi=Ya,vi=(0,r.lazy)(()=>Promise.all([i.e(2481),i.e(7589)]).then(i.bind(i,17589))),Ti=()=>{const{url:e}=(0,W.useRouteMatch)(),{categoryUid:t}=(0,W.useParams)();return r.createElement(r.Suspense,{fallback:r.createElement(E.LoadingIndicatorPage,null)},r.createElement(W.Switch,null,r.createElement(W.Route,{path:`${e}/:componentUid`},r.createElement(vi,{categoryId:t}))))},Ci=JSON.parse('["ad","address-book","address-card","adjust","air-freshener","align-center","align-justify","align-left","align-right","allergies","ambulance","american-sign-language-interpreting","anchor","angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","angry","ankh","apple-alt","archive","archway","arrow-alt-circle-down","arrow-alt-circle-left","arrow-alt-circle-right","arrow-alt-circle-up","arrow-circle-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows-alt","arrows-alt-h","arrows-alt-v","assistive-listening-systems","asterisk","at","atlas","atom","audio-description","award","baby","baby-carriage","backspace","backward","bacon","balance-scale","balance-scale-left","balance-scale-right","ban","band-aid","barcode","bars","baseball-ball","basketball-ball","bath","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","bell","bell-slash","bezier-curve","bible","bicycle","biking","binoculars","biohazard","birthday-cake","blender","blender-phone","blind","blog","bold","bolt","bomb","bone","bong","book","book-dead","book-medical","book-open","book-reader","bookmark","border-all","border-none","border-style","bowling-ball","box","box-open","boxes","braille","brain","bread-slice","briefcase","briefcase-medical","broadcast-tower","broom","brush","bug","building","bullhorn","bullseye","burn","bus","bus-alt","business-time","calculator","calendar","calendar-alt","calendar-check","calendar-day","calendar-minus","calendar-plus","calendar-times","calendar-week","camera","camera-retro","campground","candy-cane","cannabis","capsules","car","car-alt","car-battery","car-crash","car-side","caret-down","caret-left","caret-right","caret-square-down","caret-square-left","caret-square-right","caret-square-up","caret-up","carrot","cart-arrow-down","cart-plus","cash-register","cat","certificate","chair","chalkboard","chalkboard-teacher","charging-station","chart-area","chart-bar","chart-line","chart-pie","check","check-circle","check-double","check-square","cheese","chess","chess-bishop","chess-board","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","child","church","circle","circle-notch","city","clinic-medical","clipboard","clipboard-check","clipboard-list","clock","clone","closed-captioning","cloud","cloud-download-alt","cloud-meatball","cloud-moon","cloud-moon-rain","cloud-rain","cloud-showers-heavy","cloud-sun","cloud-sun-rain","cloud-upload-alt","cocktail","code","code-branch","coffee","cog","cogs","coins","columns","comment","comment-alt","comment-dollar","comment-dots","comment-medical","comment-slash","comments","comments-dollar","compact-disc","compass","compress","compress-arrows-alt","concierge-bell","cookie","cookie-bite","copy","copyright","couch","credit-card","crop","crop-alt","cross","crosshairs","crow","crown","crutch","cube","cubes","cut","database","deaf","democrat","desktop","dharmachakra","diagnoses","dice","dice-d20","dice-d6","dice-five","dice-four","dice-one","dice-six","dice-three","dice-two","digital-tachograph","directions","divide","dizzy","dna","dog","dollar-sign","dolly","dolly-flatbed","donate","door-closed","door-open","dot-circle","dove","download","drafting-compass","dragon","draw-polygon","drum","drum-steelpan","drumstick-bite","dumbbell","dumpster","dumpster-fire","dungeon","edit","egg","eject","ellipsis-h","ellipsis-v","envelope","envelope-open","envelope-open-text","envelope-square","equals","eraser","ethernet","euro-sign","exchange-alt","exclamation","exclamation-circle","exclamation-triangle","expand","expand-arrows-alt","external-link-alt","external-link-square-alt","eye","eye-dropper","eye-slash","fan","fast-backward","fast-forward","fax","feather","feather-alt","female","fighter-jet","file","file-alt","file-archive","file-audio","file-code","file-contract","file-csv","file-download","file-excel","file-export","file-image","file-import","file-invoice","file-invoice-dollar","file-medical","file-medical-alt","file-pdf","file-powerpoint","file-prescription","file-signature","file-upload","file-video","file-word","fill","fill-drip","film","filter","fingerprint","fire","fire-alt","fire-extinguisher","first-aid","fish","fist-raised","flag","flag-checkered","flag-usa","flask","flushed","folder","folder-minus","folder-open","folder-plus","font","football-ball","forward","frog","frown","frown-open","funnel-dollar","futbol","gamepad","gas-pump","gavel","gem","genderless","ghost","gift","gifts","glass-cheers","glass-martini","glass-martini-alt","glass-whiskey","glasses","globe","globe-africa","globe-americas","globe-asia","globe-europe","golf-ball","gopuram","graduation-cap","greater-than","greater-than-equal","grimace","grin","grin-alt","grin-beam","grin-beam-sweat","grin-hearts","grin-squint","grin-squint-tears","grin-stars","grin-tears","grin-tongue","grin-tongue-squint","grin-tongue-wink","grin-wink","grip-horizontal","grip-lines","grip-lines-vertical","grip-vertical","guitar","h-square","hamburger","hammer","hamsa","hand-holding","hand-holding-heart","hand-holding-usd","hand-lizard","hand-middle-finger","hand-paper","hand-peace","hand-point-down","hand-point-left","hand-point-right","hand-point-up","hand-pointer","hand-rock","hand-scissors","hand-spock","hands","hands-helping","handshake","hanukiah","hard-hat","hashtag","hat-cowboy","hat-cowboy-side","hat-wizard","haykal","hdd","heading","headphones","headphones-alt","headset","heart","heart-broken","heartbeat","helicopter","highlighter","hiking","hippo","history","hockey-puck","holly-berry","home","horse","horse-head","hospital","hospital-alt","hospital-symbol","hot-tub","hotdog","hotel","hourglass","hourglass-end","hourglass-half","hourglass-start","house-damage","hryvnia","i-cursor","ice-cream","icicles","icons","id-badge","id-card","id-card-alt","igloo","image","images","inbox","indent","industry","infinity","info","info-circle","italic","jedi","joint","journal-whills","kaaba","key","keyboard","khanda","kiss","kiss-beam","kiss-wink-heart","kiwi-bird","landmark","language","laptop","laptop-code","laptop-medical","laugh","laugh-beam","laugh-squint","laugh-wink","layer-group","leaf","lemon","less-than","less-than-equal","level-down-alt","level-up-alt","life-ring","lightbulb","link","lira-sign","list","list-alt","list-ol","list-ul","location-arrow","lock","lock-open","long-arrow-alt-down","long-arrow-alt-left","long-arrow-alt-right","long-arrow-alt-up","low-vision","luggage-cart","magic","magnet","mail-bulk","male","map","map-marked","map-marked-alt","map-marker","map-marker-alt","map-pin","map-signs","marker","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","mask","medal","medkit","meh","meh-blank","meh-rolling-eyes","memory","menorah","mercury","meteor","microchip","microphone","microphone-alt","microphone-alt-slash","microphone-slash","microscope","minus","minus-circle","minus-square","mitten","mobile","mobile-alt","money-bill","money-bill-alt","money-bill-wave","money-bill-wave-alt","money-check","money-check-alt","monument","moon","mortar-pestle","mosque","motorcycle","mountain","mouse","mouse-pointer","mug-hot","music","network-wired","neuter","newspaper","not-equal","notes-medical","object-group","object-ungroup","oil-can","om","otter","outdent","pager","paint-brush","paint-roller","palette","pallet","paper-plane","paperclip","parachute-box","paragraph","parking","passport","pastafarianism","paste","pause","pause-circle","paw","peace","pen","pen-alt","pen-fancy","pen-nib","pen-square","pencil-alt","pencil-ruler","people-carry","pepper-hot","percent","percentage","person-booth","phone","phone-alt","phone-slash","phone-square","phone-square-alt","phone-volume","photo-video","piggy-bank","pills","pizza-slice","place-of-worship","plane","plane-arrival","plane-departure","play","play-circle","plug","plus","plus-circle","plus-square","podcast","poll","poll-h","poo","poo-storm","poop","portrait","pound-sign","power-off","pray","praying-hands","prescription","prescription-bottle","prescription-bottle-alt","print","procedures","project-diagram","puzzle-piece","qrcode","question","question-circle","quidditch","quote-left","quote-right","quran","radiation","radiation-alt","rainbow","random","receipt","record-vinyl","recycle","redo","redo-alt","registered","remove-format","reply","reply-all","republican","restroom","retweet","ribbon","ring","road","robot","rocket","route","rss","rss-square","ruble-sign","ruler","ruler-combined","ruler-horizontal","ruler-vertical","running","rupee-sign","sad-cry","sad-tear","satellite","satellite-dish","save","school","screwdriver","scroll","sd-card","search","search-dollar","search-location","search-minus","search-plus","seedling","server","shapes","share","share-alt","share-alt-square","share-square","shekel-sign","shield-alt","ship","shipping-fast","shoe-prints","shopping-bag","shopping-basket","shopping-cart","shower","shuttle-van","sign","sign-in-alt","sign-language","sign-out-alt","signal","signature","sim-card","sitemap","skating","skiing","skiing-nordic","skull","skull-crossbones","slash","sleigh","sliders-h","smile","smile-beam","smile-wink","smog","smoking","smoking-ban","sms","snowboarding","snowflake","snowman","snowplow","socks","solar-panel","sort","sort-alpha-down","sort-alpha-down-alt","sort-alpha-up","sort-alpha-up-alt","sort-amount-down","sort-amount-down-alt","sort-amount-up","sort-amount-up-alt","sort-down","sort-numeric-down","sort-numeric-down-alt","sort-numeric-up","sort-numeric-up-alt","sort-up","spa","space-shuttle","spell-check","spider","spinner","splotch","spray-can","square","square-full","square-root-alt","stamp","star","star-and-crescent","star-half","star-half-alt","star-of-david","star-of-life","step-backward","step-forward","stethoscope","sticky-note","stop","stop-circle","stopwatch","store","store-alt","stream","street-view","strikethrough","stroopwafel","subscript","subway","suitcase","suitcase-rolling","sun","superscript","surprise","swatchbook","swimmer","swimming-pool","synagogue","sync","sync-alt","syringe","table","table-tennis","tablet","tablet-alt","tablets","tachometer-alt","tag","tags","tape","tasks","taxi","teeth","teeth-open","temperature-high","temperature-low","tenge","terminal","text-height","text-width","th","th-large","th-list","theater-masks","thermometer","thermometer-empty","thermometer-full","thermometer-half","thermometer-quarter","thermometer-three-quarters","thumbs-down","thumbs-up","thumbtack","ticket-alt","times","times-circle","tint","tint-slash","tired","toggle-off","toggle-on","toilet","toilet-paper","toolbox","tools","tooth","torah","torii-gate","tractor","trademark","traffic-light","train","tram","transgender","transgender-alt","trash","trash-alt","trash-restore","trash-restore-alt","tree","trophy","truck","truck-loading","truck-monster","truck-moving","truck-pickup","tshirt","tty","tv","umbrella","umbrella-beach","underline","undo","undo-alt","universal-access","university","unlink","unlock","unlock-alt","upload","user","user-alt","user-alt-slash","user-astronaut","user-check","user-circle","user-clock","user-cog","user-edit","user-friends","user-graduate","user-injured","user-lock","user-md","user-minus","user-ninja","user-nurse","user-plus","user-secret","user-shield","user-slash","user-tag","user-tie","user-times","users","users-cog","utensil-spoon","utensils","vector-square","venus","venus-double","venus-mars","vial","vials","video","video-slash","vihara","voicemail","volleyball-ball","volume-down","volume-mute","volume-off","volume-up","vote-yea","vr-cardboard","walking","wallet","warehouse","water","wave-square","weight","weight-hanging","wheelchair","wifi","wind","window-close","window-maximize","window-minimize","window-restore","wine-bottle","wine-glass","wine-glass-alt","won-sign","wrench","x-ray","yen-sign","yin-yang"]');var Ue=i(6404),Ei=i(74201),Mi=i(86834),Pi=i.n(Mi),Oi=i(98978),Ja=i.n(Oi),Ri=i(89793),xi=i.n(Ri),Si=i(58469),Ai=Object.defineProperty,Di=Object.defineProperties,Ni=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,Ii=Object.prototype.hasOwnProperty,Zi=Object.prototype.propertyIsEnumerable,er=(e,t,n)=>t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vn=(e,t)=>{for(var n in t||(t={}))Ii.call(t,n)&&er(e,n,t[n]);if(Qa)for(var n of Qa(t))Zi.call(t,n)&&er(e,n,t[n]);return e},Tn=(e,t)=>Di(e,Ni(t));const Fi=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:o,sortedContentTypesList:s,modifiedData:l,initialData:u}=(0,Te.Z)(),c=(0,E.useNotification)(),{trackUsage:p}=(0,E.useTracking)(),[m,g]=(0,r.useState)(""),{onOpenModalCreateSchema:f,onOpenModalEditCategory:h}=(0,Ve.Z)(),b=Ja()(Object.keys(t).map(R=>({name:R,title:R,isEditable:o,onClickEdit:(U,j)=>{U.stopPropagation(),T?h(j.name):O()},links:Ja()(t[R].map(U=>({name:U.uid,to:`/plugins/${$.Z}/component-categories/${R}/${U.uid}`,title:U.schema.displayName})),U=>U.title)})),R=>R.title),T=!Object.keys(n).some(R=>n[R].isTemporary===!0)&&!Object.keys(e).some(R=>e[R].isTemporary===!0)&&xi()(l,u),C=()=>{T?(p("willCreateContentType"),f({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):O()},A=()=>{T?(p("willCreateSingleType"),f({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):O()},M=()=>{T?(p("willCreateComponent"),f({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):O()},O=()=>{c({type:"info",message:{id:`${(0,d.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},L=s.filter(R=>R.visible),Y=[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:o&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:C},links:L.filter(R=>R.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:o&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:A},links:L.filter(R=>R.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:o&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:M},links:b}],k=R=>(0,Si.ZP)(R,Ie()(m),{keys:[U=>Ie()(U.title)]});return{menu:(()=>Y.map(R=>R.links.some(j=>!Pi()(j.links))?Tn(vn({},R),{links:R.links.map(j=>Tn(vn({},j),{links:k(j.links)}))}):Tn(vn({},R),{links:k(R.links)})))(),searchValue:m,onSearchChange:g}},wi=()=>{const{menu:e,searchValue:t,onSearchChange:n}=Fi(),{formatMessage:o}=(0,F.useIntl)();return r.createElement(Ue.SubNav,{ariaLabel:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},r.createElement(Ue.SubNavHeader,{searchable:!0,value:t,onClear:()=>n(""),onChange:s=>n(s.target.value),label:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:"Search..."}),r.createElement(Ue.SubNavSections,null,e.map(s=>{const l=s.title.id;return r.createElement(r.Fragment,{key:s.name},r.createElement(Ue.SubNavSection,{label:o({id:l,defaultMessage:l}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(u=>u.links?r.createElement(Ue.SubNavLinkSection,{key:u.name,label:ve()(u.title)},u.links.map(c=>r.createElement(Ue.SubNavLink,{to:c.to,active:c.active,key:c.name},ve()(o({id:c.name,defaultMessage:c.title}))))):r.createElement(Ue.SubNavLink,{to:u.to,active:u.active,key:u.name},ve()(o({id:u.name,defaultMessage:u.title}))))),s.customLink&&r.createElement(z.Box,{paddingLeft:7},r.createElement(Ei.TextButton,{onClick:s.customLink.onClick,startIcon:r.createElement(it(),null)},o({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage}))))})))},tr=(0,r.lazy)(()=>Promise.all([i.e(2481),i.e(7589)]).then(i.bind(i,17589))),Li=()=>{const{formatMessage:e}=(0,F.useIntl)(),t=e({id:`${$.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,E.useGuidedTour)(),o=(0,r.useRef)(n);return(0,r.useEffect)(()=>{o.current&&o.current("contentTypeBuilder")},[]),r.createElement(E.CheckPagePermissions,{permissions:Tt.Z.main},r.createElement(be.Helmet,{title:t}),r.createElement(bi,null,r.createElement(di,{allIcons:Ci},r.createElement(Sn.Layout,{sideNav:r.createElement(wi,null)},r.createElement(r.Suspense,{fallback:r.createElement(E.LoadingIndicatorPage,null)},r.createElement(W.Switch,null,r.createElement(W.Route,{path:`/plugins/${$.Z}/content-types/create-content-type`,component:tr}),r.createElement(W.Route,{path:`/plugins/${$.Z}/content-types/:uid`,component:tr}),r.createElement(W.Route,{path:`/plugins/${$.Z}/component-categories/:categoryUid`,component:Ti})))))))}},97123:($e,de,i)=>{i.d(de,{Z:()=>be});var r=i(45851);const be=F=>`${r.Z}.${F}`}}]);

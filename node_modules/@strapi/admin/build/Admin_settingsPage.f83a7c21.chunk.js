"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5895],{44289:(Q,T,a)=>{a.r(T),a.d(T,{SettingsPage:()=>Ze,default:()=>Ne});var t=a(32735),v=a(10938),s=a(5141),w=a(11856),V=a(5636),Ce=a(99357),Ee=a(28492),ne=a(81430),Fe=a(16540),Z=a(9808),M=a(78330),C=a(95602),se=a(90662),oe=a(58434),G=a(82372),K=a.n(G);const Ve=()=>{const{formatMessage:p}=(0,V.useIntl)();(0,v.useFocusWhenNavigate)();const y=(0,v.useAppInfos)(),{shouldUpdateStrapi:m,latestStrapiReleaseTag:P,strapiVersion:u}=y,X=y.communityEdition?"app.components.UpgradePlanModal.text-ce":"app.components.UpgradePlanModal.text-ee";return t.createElement(w.Layout,null,t.createElement(v.SettingsPageTitle,{name:"Application"}),t.createElement(Fe.Main,null,t.createElement(w.HeaderLayout,{title:p({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:p({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"})}),t.createElement(w.ContentLayout,null,t.createElement(Z.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:7,paddingBottom:7,paddingRight:6,paddingLeft:6},t.createElement(se.Stack,{spacing:5},t.createElement(C.Typography,{variant:"delta",as:"h3"},p({id:"global.details",defaultMessage:"Details"})),t.createElement(M.Grid,{paddingTop:1},t.createElement(M.GridItem,{col:6,s:12},t.createElement(C.Typography,{variant:"sigma",textColor:"neutral600"},p({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),t.createElement(C.Typography,{as:"p"},"v",u),t.createElement(oe.Link,{href:y.communityEdition?"https://discord.strapi.io":"https://support.strapi.io/support/home",endIcon:t.createElement(K(),null)},p({id:"Settings.application.get-help",defaultMessage:"Get help"}))),t.createElement(M.GridItem,{col:6,s:12},t.createElement(C.Typography,{variant:"sigma",textColor:"neutral600"},p({id:"Settings.application.edition-title",defaultMessage:"current plan"})),t.createElement(C.Typography,{as:"p"},p({id:X,defaultMessage:`${y.communityEdition?"Community Edition":"Enterprise Edition"}`})))),t.createElement(M.Grid,{paddingTop:1},t.createElement(M.GridItem,{col:6,s:12},m&&t.createElement(oe.Link,{href:`https://github.com/strapi/strapi/releases/tag/${P}`,endIcon:t.createElement(K(),null)},p({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"}))),t.createElement(M.GridItem,{col:6,s:12},t.createElement(oe.Link,{href:"https://strapi.io/pricing-self-hosted",endIcon:t.createElement(K(),null)},p({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),t.createElement(Z.Box,{paddingTop:1},t.createElement(C.Typography,{variant:"sigma",textColor:"neutral600"},p({id:"Settings.application.node-version",defaultMessage:"node version"})),t.createElement(C.Typography,{as:"p"},y.nodeVersion)))))))};var De=a(3704),de=a.n(De);const ke=p=>de()(p,m=>m.links).map(m=>(0,ne.ot)(m.Component,m.to,m.exact||!1)),xe=p=>p.filter(y=>!y.links.every(m=>m.isDisplayed===!1));var Te=a(46053),q=a(93587),R=a.n(q),W=void 0,ee=function(y,m,P){return new Promise(function(u,X){var Y=function(h){try{J(P.next(h))}catch(qe){X(qe)}},j=function(h){try{J(P.throw(h))}catch(qe){X(qe)}},J=function(h){return h.done?u(h.value):Promise.resolve(h.value).then(Y,j)};J((P=P.apply(y,m)).next())})},We=function(){return window&&window.strapi&&window.strapi.isEE?a(97971).Z:a(16988).Z}(),Be=function(){return window&&window.strapi&&window.strapi.isEE?a(49776).Z:a(10333).Z}(),Se=[{Component:function(){return{default:Be}},to:"/settings/roles",exact:!0},{Component:function(){return{default:We}},to:"/settings/roles/duplicate/:id",exact:!0},{Component:function(){return{default:We}},to:"/settings/roles/new",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(2544).then(a.bind(a,3079));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/roles/:id",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(5199).then(a.bind(a,79005));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/users",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4263).then(a.bind(a,28976));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/users/:id",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,31854));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/webhooks/create",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,24305));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/webhooks/:id",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4121).then(a.bind(a,17542));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/webhooks",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(8056).then(a.bind(a,11116));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/api-tokens",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4299).then(a.bind(a,96854));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/api-tokens/create",exact:!0},{Component:function(){return ee(W,null,R().mark(function y(){var m;return R().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(92).then(a.bind(a,14932));case 2:return m=u.sent,u.abrupt("return",m);case 4:case"end":return u.stop()}},y)}))},to:"/settings/api-tokens/:id",exact:!0}];const Ie=Se;var we=function(){return window&&window.strapi&&window.strapi.isEE?a(78251).Z:a(23027).Z}();const Ue=[].concat((0,Te.Z)(we),(0,Te.Z)(Ie));var Le=a(6404),b=a(60216),ae=a.n(b),F=Object.defineProperty,B=Object.defineProperties,re=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,x=(p,y,m)=>y in p?F(p,y,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[y]=m,U=(p,y)=>{for(var m in y||(y={}))pe.call(y,m)&&x(p,m,y[m]);if($)for(var m of $(y))H.call(y,m)&&x(p,m,y[m]);return p},ge=(p,y)=>B(p,re(y));const Oe=({menu:p})=>{const{formatMessage:y}=(0,V.useIntl)(),P=xe(p).map(X=>ge(U({},X),{title:X.intlLabel,links:X.links.map(Y=>ge(U({},Y),{title:Y.intlLabel,name:Y.id}))})),u=y({id:"global.settings",defaultMessage:"Settings"});return t.createElement(Le.SubNav,{ariaLabel:u},t.createElement(Le.SubNavHeader,{label:u}),t.createElement(Le.SubNavSections,null,P.map(X=>t.createElement(Le.SubNavSection,{key:X.id,label:y(X.intlLabel)},X.links.map(Y=>t.createElement(Le.SubNavLink,{withBullet:Y.hasNotification,to:Y.to,key:Y.id},y(Y.intlLabel)))))))};Oe.propTypes={menu:ae().array.isRequired};const je=Oe;function Ze(){const{settingId:p}=(0,s.useParams)(),{settings:y}=(0,v.useStrapiApp)(),{formatMessage:m}=(0,V.useIntl)(),{isLoading:P,menu:u}=(0,Ee.Te)(),X=(0,t.useMemo)(()=>(0,ne.WW)(Ue.map(({to:J,Component:ie,exact:h})=>(0,ne.ot)(ie,J,h))),[]),Y=ke(y);if(P)return t.createElement(v.LoadingIndicatorPage,null);if(!p)return t.createElement(s.Redirect,{to:"/settings/application-infos"});const j=m({id:"global.settings",defaultMessage:"Settings"});return t.createElement(w.Layout,{sideNav:t.createElement(je,{menu:u})},t.createElement(Ce.Helmet,{title:j}),t.createElement(s.Switch,null,t.createElement(s.Route,{path:"/settings/application-infos",component:Ve,exact:!0}),X,Y))}const Ne=(0,t.memo)(Ze)},16988:(Q,T,a)=>{a.d(T,{Z:()=>w});var t=a(32735),v=a(5141);const w=()=>t.createElement(v.Redirect,{to:"/404"})},65150:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!0},3665:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!0},3288:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!0},16602:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!0},71218:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!0},13806:(Q,T,a)=>{a.d(T,{Z:()=>or});var t=a(32735),v=a(60216),s=a.n(v),w=a(10938),V=a(81700),Ce=a(23973),Ee=a.n(Ce),ne=a(86834),Fe=a.n(ne),Z=a(5636),M=a(9808),C=a(19615),se=a(98978),oe=a.n(se),G=a(67950),K=a(67793),$e=a.n(K),Ve=a(31476),De=a.n(Ve),de=a(35980),k=a(19192),ke=a(33795),ue=a.n(ke),xe=a(9086),Te=a.n(xe),q=a(28492),R=a(42258),W=a.n(R),ee=a(44526);const We=C.default.div`
  position: relative;

  ${({hasConditions:o,disabled:e,theme:n})=>o&&`
    &:before {
      content: '';
      position: absolute;
      top: -3px;
      left: -10px;
      width: 6px;
      height: 6px;
      border-radius: ${20/16}rem;;
      background: ${e?n.colors.neutral100:n.colors.primary600};
    }
  `}
`,Be=({onClick:o,className:e,hasConditions:n,variant:r})=>{const{formatMessage:i}=(0,Z.useIntl)();return t.createElement(We,{hasConditions:n,className:e},t.createElement(ee.Button,{variant:r,startIcon:t.createElement(W(),null),onClick:o},i({id:"global.settings",defaultMessage:"Settings"})))};Be.defaultProps={className:null,hasConditions:!1,variant:"tertiary"},Be.propTypes={onClick:s().func.isRequired,className:s().string,hasConditions:s().bool,variant:s().string};const Se=(0,C.default)(Be)``;var Ie=a(27635),we=a(90662),Ue=a(4122),Le=a(71657),b=a(95602),ae=a(49415),F=a(81346),B=a.n(F),re=a(23940),$=a.n(re),pe=a(15453),H=a(46053),x=a(25716);const U=`${120/16}rem`,ge=`${200/16}rem`,Oe=`${53/16}rem`;function je(o,e){var n=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!n){if(Array.isArray(o)||(n=Ze(o))||e&&o&&typeof o.length=="number"){n&&(o=n);var r=0,i=function(){};return{s:i,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,c=!1,d;return{s:function(){n=n.call(o)},n:function(){var f=n.next();return l=f.done,f},e:function(f){c=!0,d=f},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(c)throw d}}}}function Ze(o,e){if(!!o){if(typeof o=="string")return Ne(o,e);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(o,e)}}function Ne(o,e){(e==null||e>o.length)&&(e=o.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=o[n];return r}var p=Object.defineProperty,y=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,u=function(e,n,r){return n in e?p(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r},X=function(e,n){for(var r in n||(n={}))m.call(n,r)&&u(e,r,n[r]);if(y){var i=je(y(n)),l;try{for(i.s();!(l=i.n()).done;){var r=l.value;P.call(n,r)&&u(e,r,n[r])}}catch(c){i.e(c)}finally{i.f()}}return e},Y=function(){return window&&window.strapi&&window.strapi.isEE?a(10265).Z:a(65150).Z}(),j=(0,C.default)(k.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],Oe),J=function(e){var n=e.arrayOfOptionsGroupedByCategory,r=e.isFormDisabled,i=e.isGrey,l=e.label,c=e.name,d=e.onChange,g=e.value,f=(0,Z.useIntl)(),E=f.formatMessage,S=n.reduce(function(D,I){var A=(0,G.Z)(I,2),O=A[0],N=A[1],_={label:$()(O),children:N.map(function(fe){return{label:fe.displayName,value:fe.id}})};return[].concat((0,H.Z)(D),[_])},[]),L=Object.values(g).map(function(D){return Object.entries(D).filter(function(I){var A=(0,G.Z)(I,2),O=A[1];return O}).map(function(I){var A=(0,G.Z)(I,1),O=A[0];return O})}).flat(),z=function(I){var A=(0,G.Z)(n,1),O=(0,G.Z)(A[0],2),N=O[1],_=N.reduce(function(fe,le){return X((0,pe.Z)({},le.id,I.includes(le.id)),fe)},{});d(c,_)};return t.createElement(j,{as:"li",background:i?"neutral100":"neutral0"},t.createElement(k.Flex,{paddingLeft:6,style:{width:180}},t.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},E({id:"Settings.permissions.conditions.can",defaultMessage:"Can"}),"\xA0"),t.createElement(b.Typography,{variant:"sigma",title:l,textColor:"primary600",ellipsis:!0},E({id:"Settings.roles.form.permissions.".concat(l.toLowerCase()),defaultMessage:l})),t.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},"\xA0",E({id:"Settings.permissions.conditions.when",defaultMessage:"When"}))),t.createElement(M.Box,{style:{maxWidth:430,width:"100%"}},t.createElement(x.MultiSelectNested,{id:c,customizeContent:function(I){return"".concat(I.length," currently selected")},onChange:z,value:L,options:S,disabled:r||Y})))};J.propTypes={arrayOfOptionsGroupedByCategory:s().array.isRequired,isFormDisabled:s().bool.isRequired,isGrey:s().bool.isRequired,label:s().string.isRequired,name:s().string.isRequired,value:s().object.isRequired,onChange:s().func.isRequired};const ie=J;var h=a(92891);const qe=(o,e)=>o.reduce((n,r)=>(n[r.id]=(0,h.get)(e,r.id,!1),n),{}),Wn=(o,e)=>o.reduce((n,r)=>{const[i,l]=r,c=qe(l,e);return n[i]=c,n},{}),$n=(o,e,n)=>o.reduce((r,i)=>{const l=(0,h.get)(e,[...i.pathToConditionsObject,"conditions"],{}),c=Wn(n,l);return r[i.pathToConditionsObject.join("..")]=c,r},{});var Vn=Object.defineProperty,Et=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable,bt=(o,e,n)=>e in o?Vn(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,Pt=(o,e)=>{for(var n in e||(e={}))Zn.call(e,n)&&bt(o,n,e[n]);if(Et)for(var n of Et(e))Un.call(e,n)&&bt(o,n,e[n]);return o};const At=({actions:o,headerBreadCrumbs:e,isFormDisabled:n,onClosed:r,onToggle:i})=>{const{formatMessage:l}=(0,Z.useIntl)(),{availableConditions:c,modifiedData:d,onChangeConditions:g}=(0,q.$_)(),f=(0,t.useMemo)(()=>Object.entries(B()(c,"category")),[c]),E=o.filter(({isDisplayed:A,hasSomeActionsSelected:O,hasAllActionsSelected:N})=>A&&(O||N)),S=(0,t.useMemo)(()=>$n(E,d,f),[E,d,f]),[L,z]=(0,t.useState)(S),D=(A,O)=>{z((0,ae.default)(N=>{N[A]||(N[A]={}),N[A].default||(N[A].default={}),N[A].default=O}))},I=()=>{const A=Object.entries(L).reduce((O,N)=>{const[_,fe]=N,le=Object.values(fe).reduce((ye,be)=>Pt(Pt({},ye),be),{});return O[_]=le,O},{});g(A),i()};return t.createElement(Ue.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:r},t.createElement(Ue.ModalHeader,null,t.createElement(Le.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:e.join(", ")},e.map(A=>t.createElement(Le.Crumb,{key:A},$()(l({id:A,defaultMessage:A})))))),t.createElement(M.Box,{padding:8},t.createElement(we.Stack,{spacing:6},t.createElement(b.Typography,{variant:"beta",as:"h2"},l({id:"Settings.permissions.conditions.define-conditions",defaultMessage:"Define conditions"})),t.createElement(M.Box,null,t.createElement(Ie.Divider,null)),t.createElement(M.Box,null,E.length===0&&t.createElement(b.Typography,null,l({id:"Settings.permissions.conditions.no-actions",defaultMessage:"You first need to select actions (create, read, update, ...) before defining conditions on them."})),t.createElement("ul",null,E.map(({actionId:A,label:O,pathToConditionsObject:N},_)=>{const fe=N.join("..");return t.createElement(ie,{key:A,arrayOfOptionsGroupedByCategory:f,label:O,isFormDisabled:n,isGrey:_%2===0,name:fe,onChange:D,value:ue()(L,fe,{})})}))))),t.createElement(Ue.ModalFooter,{startActions:t.createElement(ee.Button,{variant:"tertiary",onClick:i},l({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(ee.Button,{onClick:I},l({id:"Settings.permissions.conditions.apply",defaultMessage:"Apply"}))}))};At.propTypes={actions:s().arrayOf(s().shape({actionId:s().string.isRequired,checkboxName:s().string,hasSomeActionsSelected:s().bool.isRequired,hasAllActionsSelected:s().bool,isDisplayed:s().bool.isRequired,label:s().string})).isRequired,headerBreadCrumbs:s().arrayOf(s().string).isRequired,isFormDisabled:s().bool.isRequired,onClosed:s().func.isRequired,onToggle:s().func.isRequired};const Tt=At,ot=C.default.div`
  width: ${U};
`,St=(0,C.default)(k.Flex)`
  padding-right: ${({theme:o})=>o.spaces[2]};
  overflow: hidden;
  flex: 1;
  ${({isCollapsable:o})=>o&&"cursor: pointer;"}
`;var Gn=Object.defineProperty,Ot=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,Rt=(o,e,n)=>e in o?Gn(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,Xn=(o,e)=>{for(var n in e||(e={}))Kn.call(e,n)&&Rt(o,n,e[n]);if(Ot)for(var n of Ot(e))Hn.call(e,n)&&Rt(o,n,e[n]);return o};const at=({children:o,isCollapsable:e,isActive:n,isFormDisabled:r,label:i,onChange:l,onClick:c,checkboxName:d,someChecked:g,value:f})=>{const{formatMessage:E}=(0,Z.useIntl)();return t.createElement(k.Flex,{alignItems:"center",paddingLeft:6,style:{width:ge,flexShrink:0}},t.createElement(M.Box,{paddingRight:2},t.createElement(de.BaseCheckbox,{name:d,"aria-label":E({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:i}),disabled:r,onValueChange:S=>l({target:{name:d,value:S}}),indeterminate:g,value:f})),t.createElement(St,Xn({title:i,alignItems:"center",isCollapsable:e},e&&{onClick:c,"aria-expanded":n,onKeyDown:({key:S})=>(S==="Enter"||S===" ")&&c(),tabIndex:0,role:"button"}),t.createElement(b.Typography,{fontWeight:n?"bold":"",textColor:n?"primary600":"neutral800",ellipsis:!0},$()(i)),o))};at.defaultProps={children:null,checkboxName:"",onChange:()=>{},value:!1,someChecked:!1,isCollapsable:!1},at.propTypes={checkboxName:s().string,children:s().node,label:s().string.isRequired,isCollapsable:s().bool,isFormDisabled:s().bool.isRequired,onChange:s().func,onClick:s().func.isRequired,someChecked:s().bool,value:s().bool,isActive:s().bool.isRequired};const Dt=(0,t.memo)(at),xt=o=>(0,h.isObject)(o)?(0,h.flattenDeep)(Object.values(o).map(e=>(0,h.isObject)(e)?xt(e):e)):[],Ye=xt,rt=o=>o?Object.keys(o).reduce((e,n)=>(n!=="conditions"&&(e[n]=o[n]),e),{}):null,He=o=>{const e=rt(o),n=Ye(e);if(!n.length)return{hasAllActionsSelected:!1,hasSomeActionsSelected:!1};const r=n.every(l=>l),i=n.some(l=>l)&&!r;return{hasAllActionsSelected:r,hasSomeActionsSelected:i}},zn=(o,e,n)=>o.map(({actionId:r,isDisplayed:i,applyToProperties:l,label:c})=>{if(!i)return{actionId:r,hasSomeActionsSelected:!1,isDisplayed:i};const d=[...n.split(".."),r],g=(0,h.isEmpty)(l)?[...d,"properties","enabled"]:d,f=g.join(".."),E=(0,h.get)(e,[...d,"conditions"],null),S=Ye(E).some(I=>I);if((0,h.isEmpty)(l)){const I=(0,h.get)(e,g,!1);return{actionId:r,checkboxName:f,hasAllActionsSelected:I,hasConditions:S,hasSomeActionsSelected:I,isDisplayed:i,isParentCheckbox:!1,label:c,pathToConditionsObject:d}}const L=(0,h.get)(e,g,null),{hasAllActionsSelected:z,hasSomeActionsSelected:D}=He(L);return{actionId:r,checkboxName:f,hasAllActionsSelected:z,hasConditions:S,hasSomeActionsSelected:D,isDisplayed:i,isParentCheckbox:!0,label:c,pathToConditionsObject:d}});var Yn=a(60672),Qn=a.n(Yn);const _e=(0,C.default)(Qn())`
  display: none;
  width: ${10/16}rem;
  transform: rotate(${({$isActive:o})=>o?"180":"0"}deg);
  margin-left: ${({theme:o})=>o.spaces[2]};
`,et=o=>`
  ${b.Typography} {
    color: ${o.colors.primary600};
    font-weight: ${o.fontWeights.bold}
  }
  ${_e} {
    display: block;
    path {
      fill: ${o.colors.primary600}
    };
  }
`;var It=function(){return window&&window.strapi&&window.strapi.isEE?a(47902).Z:a(3665).Z}(),Lt=function o(e,n){return`
  `.concat(Mt,` {
    background-color: `).concat(e.colors.primary100,`;
    color: `).concat(e.colors.primary600,`;
    border-radius: `).concat(n?"2px 2px 0 0":"2px",`;
  }
  `).concat(Bt,` {
    display: flex;
  }
  `).concat(Se,` {
    display: block;
  }
  &:hover {
   `).concat(et(e),`
  }

  &:focus-within {
    `).concat(function(r){var i=r.theme,l=r.isActive;return o(i,l)},`
  }
  
`)},Mt=C.default.div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],Oe,function(o){var e=o.isGrey,n=o.theme;return e?n.colors.neutral100:n.colors.neutral0}),Jn=C.default.div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],Se,function(o){var e=o.isActive,n=o.theme;return e&&Lt(n,e)},function(o){var e=o.theme,n=o.isActive;return Lt(e,n)}),Ft=(0,C.default)(k.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],U),Bt=(0,C.default)(M.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],function(o){var e=o.theme;return e.colors.primary600}),wt=C.default.span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],function(o){var e=o.theme;return e.colors.primary600}),qn=(0,C.default)(M.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]),jt=function(e){var n=e.availableActions,r=e.isActive,i=e.isGrey,l=e.isFormDisabled,c=e.label,d=e.onClickToggle,g=e.pathToData,f=(0,t.useState)(!1),E=(0,G.Z)(f,2),S=E[0],L=E[1],z=(0,Z.useIntl)(),D=z.formatMessage,I=(0,q.$_)(),A=I.modifiedData,O=I.onChangeParentCheckbox,N=I.onChangeSimpleCheckbox,_=function(){L(function(me){return!me})},fe=function(){L(!1)},le=ue()(A,g.split(".."),{}),ye=(0,t.useMemo)(function(){return Object.keys(le).reduce(function(te,me){return te[me]=Te()(le[me],"conditions"),te},{})},[le]),be=He(ye),ve=be.hasAllActionsSelected,Xe=be.hasSomeActionsSelected,ce=(0,t.useMemo)(function(){return zn(n,A,g)},[n,A,g]),Pe=ce.some(function(te){var me=te.hasConditions;return me});return t.createElement(Jn,{isActive:r},t.createElement(Mt,{isGrey:i},t.createElement(Dt,{isCollapsable:!0,isFormDisabled:l,label:c,checkboxName:g,onChange:O,onClick:d,someChecked:Xe,value:ve,isActive:r},t.createElement(Bt,{paddingLeft:2},r?t.createElement(De(),null):t.createElement($e(),null))),t.createElement(k.Flex,{style:{flex:1}},ce.map(function(te){var me=te.actionId,he=te.hasConditions,Ae=te.hasAllActionsSelected,Re=te.hasSomeActionsSelected,Ke=te.isDisplayed,Me=te.isParentCheckbox,Ge=te.checkboxName,Qe=te.label;return Ke?Me?t.createElement(Ft,{key:me,justifyContent:"center",alignItems:"center"},he&&t.createElement(wt,null),t.createElement(de.BaseCheckbox,{disabled:l||It,name:Ge,"aria-label":D({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(Qe," ").concat(c)}),onValueChange:function(ze){O({target:{name:Ge,value:ze}})},indeterminate:Re,value:Ae})):t.createElement(Ft,{key:me,justifyContent:"center",alignItems:"center"},he&&t.createElement(wt,null),t.createElement(de.BaseCheckbox,{disabled:l||It,indeterminate:he,name:Ge,onValueChange:function(ze){N({target:{name:Ge,value:ze}})},value:Ae})):t.createElement(ot,{key:me})})),S&&t.createElement(Tt,{headerBreadCrumbs:[c,"app.components.LeftMenuLinkContainer.settings"],actions:ce,isFormDisabled:l,onClosed:fe,onToggle:_})),t.createElement(qn,null,t.createElement(Se,{onClick:_,hasConditions:Pe})))};jt.propTypes={availableActions:s().array.isRequired,isActive:s().bool.isRequired,isGrey:s().bool.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,onClickToggle:s().func.isRequired,pathToData:s().string.isRequired};const _n=jt,eo=(o,e)=>o.map(n=>{const r=Array.isArray(n.applyToProperties)&&n.applyToProperties.indexOf(e)!==-1&&n.isDisplayed;return{label:n.label,actionId:n.actionId,isActionRelatedToCurrentProperty:r}}),Nt=(0,C.default)(k.Flex)`
  width: ${U};
  flex-shrink: 0;
`,to=(0,C.default)(k.Flex)`
  width: ${ge};
  height: ${Oe};
  flex-shrink: 0;
`,kt=({headers:o,label:e})=>{const{formatMessage:n}=(0,Z.useIntl)(),r=n({id:"Settings.roles.form.permission.property-label",defaultMessage:"{label} permissions"},{label:e});return t.createElement(k.Flex,null,t.createElement(to,{alignItems:"center",paddingLeft:6},t.createElement(b.Typography,{variant:"sigma",textColor:"neutral500"},r)),o.map(i=>i.isActionRelatedToCurrentProperty?t.createElement(Nt,{justifyContent:"center",key:i.label},t.createElement(b.Typography,{variant:"sigma",textColor:"neutral500"},n({id:`Settings.roles.form.permissions.${i.label.toLowerCase()}`,defaultMessage:i.label}))):t.createElement(Nt,{key:i.label})))};kt.propTypes={headers:s().arrayOf(s().shape({label:s().string.isRequired,isActionRelatedToCurrentProperty:s().bool.isRequired})).isRequired,label:s().string.isRequired};const no=kt,oo=C.default.span`
  color: ${({theme:o})=>o.colors.danger700};
  padding-left: ${({theme:o})=>o.spaces[1]}px;
`,Wt=()=>t.createElement(oo,null,"*");var ao=Object.defineProperty,ro=Object.defineProperties,so=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,lo=Object.prototype.propertyIsEnumerable,Vt=(o,e,n)=>e in o?ao(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,co=(o,e)=>{for(var n in e||(e={}))io.call(e,n)&&Vt(o,n,e[n]);if($t)for(var n of $t(e))lo.call(e,n)&&Vt(o,n,e[n]);return o},uo=(o,e)=>ro(o,so(e));const po=(o,e)=>o.map(n=>{const r=Array.isArray(n.subjects)&&n.subjects.indexOf(e)!==-1;return uo(co({},n),{isDisplayed:r})});var mo=Object.defineProperty,Zt=Object.getOwnPropertySymbols,go=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,Ut=(o,e,n)=>e in o?mo(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,yo=(o,e)=>{for(var n in e||(e={}))go.call(e,n)&&Ut(o,n,e[n]);if(Zt)for(var n of Zt(e))fo.call(e,n)&&Ut(o,n,e[n]);return o};const ho=(0,C.default)(M.Box)`
  transform: translate(-4px, -12px);

  &:before {
    content: '';
    width: ${4/16}rem;
    height: ${12/16}rem;
    background: ${({theme:o})=>o.colors.primary200};
    display: block;
  }
`,vo=C.default.svg`
  position: relative;
  flex-shrink: 0;
  transform: translate(-0.5px, -1px);

  * {
    fill: ${({theme:o,color:e})=>o.colors[e]};
  }
`,st=o=>t.createElement(ho,null,t.createElement(vo,yo({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})));st.defaultProps={fill:"primary200"},st.propTypes={fill:s().string};const Co=(0,t.memo)(st);function Eo(o,e){var n=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!n){if(Array.isArray(o)||(n=bo(o))||e&&o&&typeof o.length=="number"){n&&(o=n);var r=0,i=function(){};return{s:i,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,c=!1,d;return{s:function(){n=n.call(o)},n:function(){var f=n.next();return l=f.done,f},e:function(f){c=!0,d=f},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(c)throw d}}}}function bo(o,e){if(!!o){if(typeof o=="string")return Gt(o,e);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(o,e)}}function Gt(o,e){(e==null||e>o.length)&&(e=o.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=o[n];return r}var Po=Object.defineProperty,Ao=Object.defineProperties,To=Object.getOwnPropertyDescriptors,Kt=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Oo=Object.prototype.propertyIsEnumerable,Ht=function(e,n,r){return n in e?Po(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r},Ro=function(e,n){for(var r in n||(n={}))So.call(n,r)&&Ht(e,r,n[r]);if(Kt){var i=Eo(Kt(n)),l;try{for(i.s();!(l=i.n()).done;){var r=l.value;Oo.call(n,r)&&Ht(e,r,n[r])}}catch(c){i.e(c)}finally{i.f()}}return e},Do=function(e,n){return Ao(e,To(n))},Xt=function(){return window&&window.strapi&&window.strapi.isEE?a(38292).Z:a(16602).Z}(),zt=(0,C.default)(k.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],U),xo=(0,C.default)(k.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],Oe),Io=(0,C.default)(M.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16),Lo=(0,C.default)(M.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],function(o){var e=o.isVisible,n=o.theme;return e?"4px solid ".concat(n.colors.primary200):"4px solid transparent"}),Mo=(0,C.default)(k.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],function(o){var e=o.theme;return e.spaces[4]},function(o){var e=o.level;return 145-e*36},function(o){var e=o.isCollapsable,n=o.theme;return e&&`
      `.concat(_e,` {
        display: block;
        color: `).concat(n.colors.neutral100,`;
      }
      &:hover {
        `).concat(et(n),`
      }
  `)},function(o){var e=o.isActive,n=o.theme;return e&&et(n)}),Fo=C.default.div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],function(o){var e=o.theme;return e.spaces[2]},function(o){var e=o.theme;return e.spaces[2]},4/16,function(o){var e=o.theme;return e.colors.primary200}),Yt=function o(e){var n=e.childrenForm,r=e.isFormDisabled,i=e.recursiveLevel,l=e.pathToDataFromActionRow,c=e.propertyActions,d=e.parentName,g=e.propertyName,f=(0,Z.useIntl)(),E=f.formatMessage,S=(0,q.$_)(),L=S.modifiedData,z=S.onChangeParentCheckbox,D=S.onChangeSimpleCheckbox,I=(0,t.useState)(null),A=(0,G.Z)(I,2),O=A[0],N=A[1],_=function(ye){N(function(be){return be===ye?null:ye})},fe=(0,t.useMemo)(function(){return O?n.find(function(le){var ye=le.value;return ye===O}):null},[O,n]);return t.createElement(Io,null,t.createElement(Fo,null),n.map(function(le,ye){var be=le.label,ve=le.value,Xe=le.required,ce=le.children,Pe=ye+1<n.length,te=Array.isArray(ce),me=O===ve;return t.createElement(Lo,{key:ve,isVisible:Pe},t.createElement(xo,null,t.createElement(Co,{color:"primary200"}),t.createElement(k.Flex,{style:{flex:1}},t.createElement(Mo,{level:i,isActive:me,isCollapsable:te},t.createElement(St,Do(Ro({alignItems:"center",isCollapsable:te},te&&{onClick:function(){return _(ve)},"aria-expanded":me,onKeyDown:function(Ae){var Re=Ae.key;return(Re==="Enter"||Re===" ")&&_(ve)},tabIndex:0,role:"button"}),{title:be}),t.createElement(b.Typography,{ellipsis:!0},$()(be)),Xe&&t.createElement(Wt,null),t.createElement(_e,{$isActive:me}))),t.createElement(k.Flex,{style:{flex:1}},c.map(function(he){var Ae=he.actionId,Re=he.label,Ke=he.isActionRelatedToCurrentProperty;if(!Ke)return t.createElement(ot,{key:Ae});var Me=[].concat((0,H.Z)(l.split("..")),[Ae,"properties",g],(0,H.Z)(d.split("..")),[ve]),Ge=ue()(L,Me,!1);if(!ce)return t.createElement(zt,{key:Re,justifyContent:"center",alignItems:"center"},t.createElement(de.BaseCheckbox,{disabled:r||Xt,name:Me.join(".."),"aria-label":E({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(d," ").concat(be," ").concat(Re)}),onValueChange:function(tt){D({target:{name:Me.join(".."),value:tt}})},value:Ge}));var Qe=He(Ge),Je=Qe.hasAllActionsSelected,ze=Qe.hasSomeActionsSelected;return t.createElement(zt,{key:Re,justifyContent:"center",alignItems:"center"},t.createElement(de.BaseCheckbox,{key:Re,disabled:r||Xt,name:Me.join(".."),"aria-label":E({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(d," ").concat(be," ").concat(Re)}),onValueChange:function(tt){z({target:{name:Me.join(".."),value:tt}})},value:Je,indeterminate:ze}))})))),fe&&me&&t.createElement(M.Box,{paddingBottom:2},t.createElement(o,{isFormDisabled:r,parentName:"".concat(d,"..").concat(ve),pathToDataFromActionRow:l,propertyActions:c,propertyName:g,recursiveLevel:i+1,childrenForm:fe.children})))}))};Yt.propTypes={childrenForm:s().array.isRequired,isFormDisabled:s().bool.isRequired,parentName:s().string.isRequired,pathToDataFromActionRow:s().string.isRequired,propertyActions:s().array.isRequired,propertyName:s().string.isRequired,recursiveLevel:s().number.isRequired};const Bo=(0,t.memo)(Yt),wo=o=>o.reduce((n,r)=>(r.isActionRelatedToCurrentProperty&&n.push(r.actionId),n),[]),jo=(o,e,n,r,i)=>{const c=wo(o).reduce((d,g)=>{const f=[...n.split(".."),g,"properties",r,i],E=(0,h.get)(e,f,!1);return d[g]=E,d},{});return He(c)};var Qt=function(){return window&&window.strapi&&window.strapi.isEE?a(71231).Z:a(3288).Z}(),Jt=(0,C.default)(k.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],U),No=(0,C.default)(k.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],Oe,function(o){var e=o.isCollapsable,n=o.theme;return e&&`
      `.concat(_e,` {
        display: block;
        color: `).concat(n.colors.neutral100,`;
      }
      &:hover {
        `).concat(et(n),`
      }
  `)},function(o){var e=o.isActive,n=o.theme;return e&&et(n)}),it=function(e){var n=e.childrenForm,r=e.label,i=e.isFormDisabled,l=e.name,c=e.required,d=e.pathToData,g=e.propertyActions,f=e.propertyName,E=e.isOdd,S=(0,Z.useIntl)(),L=S.formatMessage,z=(0,t.useState)(null),D=(0,G.Z)(z,2),I=D[0],A=D[1],O=(0,q.$_)(),N=O.modifiedData,_=O.onChangeCollectionTypeLeftActionRowCheckbox,fe=O.onChangeParentCheckbox,le=O.onChangeSimpleCheckbox,ye=I===l,be=(0,t.useMemo)(function(){return Array.isArray(n)?n:[]},[n]),ve=be.length>0,Xe=(0,t.useCallback)(function(){ve&&A(function(he){return he===l?null:l})},[ve,l]),ce=function(Ae){var Re=Ae.target.value;_(d,f,l,Re)},Pe=(0,t.useMemo)(function(){return jo(g,N,d,f,l)},[g,N,d,f,l]),te=Pe.hasAllActionsSelected,me=Pe.hasSomeActionsSelected;return t.createElement(t.Fragment,null,t.createElement(No,{alignItems:"center",isCollapsable:ve,isActive:ye,background:E?"neutral100":"neutral0"},t.createElement(k.Flex,null,t.createElement(Dt,{onChange:ce,onClick:Xe,isCollapsable:ve,isFormDisabled:i,label:r,someChecked:me,value:te,isActive:ye},c&&t.createElement(Wt,null),t.createElement(_e,{$isActive:ye})),t.createElement(k.Flex,null,g.map(function(he){var Ae=he.label,Re=he.isActionRelatedToCurrentProperty,Ke=he.actionId;if(!Re)return t.createElement(ot,{key:Ae});var Me=[].concat((0,H.Z)(d.split("..")),[Ke,"properties",f,l]);if(!ve){var Ge=ue()(N,Me,!1);return t.createElement(Jt,{key:Ke,justifyContent:"center",alignItems:"center"},t.createElement(de.BaseCheckbox,{disabled:i||Qt,name:Me.join(".."),"aria-label":L({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(l," ").concat(Ae)}),onValueChange:function(Ct){le({target:{name:Me.join(".."),value:Ct}})},value:Ge}))}var Qe=ue()(N,Me,{}),Je=He(Qe),ze=Je.hasAllActionsSelected,vt=Je.hasSomeActionsSelected;return t.createElement(Jt,{key:Ae,justifyContent:"center",alignItems:"center"},t.createElement(de.BaseCheckbox,{disabled:i||Qt,name:Me.join(".."),onValueChange:function(Ct){fe({target:{name:Me.join(".."),value:Ct}})},"aria-label":L({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(l," ").concat(Ae)}),value:ze,indeterminate:vt}))})))),ye&&t.createElement(Bo,{childrenForm:be,isFormDisabled:i,parentName:l,pathToDataFromActionRow:d,propertyName:f,propertyActions:g,recursiveLevel:0}))};it.defaultProps={childrenForm:[],required:!1},it.propTypes={childrenForm:s().array,label:s().string.isRequired,isFormDisabled:s().bool.isRequired,name:s().string.isRequired,pathToData:s().string.isRequired,propertyActions:s().array.isRequired,propertyName:s().string.isRequired,required:s().bool,isOdd:s().bool.isRequired};const ko=(0,t.memo)(it),Wo=C.default.div`
  display: inline-flex;
  flex-direction: column;
  min-width: 0;
`,qt=({availableActions:o,childrenForm:e,isFormDisabled:n,label:r,pathToData:i,propertyName:l})=>{const c=(0,t.useMemo)(()=>eo(o,l),[o,l]);return t.createElement(Wo,null,t.createElement(no,{label:r,headers:c}),t.createElement(M.Box,null,e.map(({children:d,label:g,value:f,required:E},S)=>t.createElement(ko,{childrenForm:d,key:f,label:g,isFormDisabled:n,name:f,required:E,propertyActions:c,pathToData:i,propertyName:l,isOdd:S%2===0}))))};qt.propTypes={childrenForm:s().array.isRequired,availableActions:s().array.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,pathToData:s().string.isRequired,propertyName:s().string.isRequired};const $o=qt,Vo=C.default.div`
  flex-direction: column;
  display: inline-flex;
  min-width: 100%;
  ${({theme:o,isActive:e})=>e&&`border: 1px solid ${o.colors.primary600};`}
`,_t=({allActions:o,contentTypeName:e,label:n,index:r,isActive:i,isFormDisabled:l,onClickToggleCollapse:c,pathToData:d,properties:g})=>{const f=(0,t.useCallback)(()=>{c(e)},[e,c]),E=(0,t.useMemo)(()=>po(o,e),[o,e]);return t.createElement(Vo,{isActive:i},t.createElement(_n,{availableActions:E,isActive:i,isGrey:r%2===0,isFormDisabled:l,label:n,onClickToggle:f,pathToData:d}),i&&g.map(({label:S,value:L,children:z})=>t.createElement($o,{availableActions:E,childrenForm:z,isFormDisabled:l,label:S,pathToData:d,propertyName:L,key:L})))};_t.propTypes={allActions:s().array.isRequired,contentTypeName:s().string.isRequired,index:s().number.isRequired,isActive:s().bool.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,onClickToggleCollapse:s().func.isRequired,pathToData:s().string.isRequired,properties:s().array.isRequired};const Zo=_t,lt=({actions:o,isFormDisabled:e,pathToData:n,subjects:r})=>{const[i,l]=(0,t.useState)(null),c=d=>{l(i===d?null:d)};return r.map(({uid:d,label:g,properties:f},E)=>t.createElement(Zo,{allActions:o,key:d,contentTypeName:d,label:g,isActive:i===d,isFormDisabled:e,index:E,onClickToggleCollapse:c,pathToData:`${n}..${d}`,properties:f}))};lt.defaultProps={actions:[],subjects:[]},lt.propTypes={actions:s().array.isRequired,isFormDisabled:s().bool.isRequired,pathToData:s().string.isRequired,subjects:s().arrayOf(s().shape({uid:s().string.isRequired,label:s().string.isRequired,properties:s().array.isRequired}))};const Uo=(0,t.memo)(lt),Go=o=>o.filter(({subjects:e})=>e&&e.length);var Ko=Object.defineProperty,en=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,tn=(o,e,n)=>e in o?Ko(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,nn=(o,e)=>{for(var n in e||(e={}))Ho.call(e,n)&&tn(o,n,e[n]);if(en)for(var n of en(e))Xo.call(e,n)&&tn(o,n,e[n]);return o};const zo=o=>o.map(({actionId:e})=>e),Yo=(o,e)=>o.reduce((n,r)=>(Object.keys(e).forEach(i=>{const l=(0,h.get)(e,[i,r],{}),c={[i]:rt(l)};n[r]?n[r]=nn(nn({},n[r]),c):n[r]=c}),n),{}),Qo=(o,e)=>{const n=zo(o),r=Yo(n,e);return Object.keys(r).reduce((l,c)=>(l[c]=He(r[c]),l),{})};var Jo=function(){return window&&window.strapi&&window.strapi.isEE?a(66713).Z:a(71218).Z}(),qo=(0,C.default)(we.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],U),ct=function(e){var n=e.actions,r=e.isFormDisabled,i=e.kind,l=(0,Z.useIntl)(),c=l.formatMessage,d=(0,q.$_)(),g=d.modifiedData,f=d.onChangeCollectionTypeGlobalActionCheckbox,E=(0,t.useMemo)(function(){return Go(n)},[n]),S=(0,t.useMemo)(function(){return Qo(E,g[i])},[g,E,i]);return t.createElement(M.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:ge}},t.createElement(we.Stack,{horizontal:!0,spacing:0},E.map(function(L){var z=L.label,D=L.actionId;return t.createElement(qo,{key:D,spacing:3},t.createElement(b.Typography,{variant:"sigma",textColor:"neutral500"},c({id:"Settings.roles.form.permissions.".concat(z.toLowerCase()),defaultMessage:z})),t.createElement(de.BaseCheckbox,{disabled:r||Jo,onValueChange:function(A){f(i,D,A)},name:D,"aria-label":c({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:c({id:"Settings.roles.form.permissions.".concat(z.toLowerCase()),defaultMessage:z})}),value:ue()(S,[D,"hasAllActionsSelected"],!1),indeterminate:ue()(S,[D,"hasSomeActionsSelected"],!1)}))})))};ct.defaultProps={actions:[]},ct.propTypes={actions:s().arrayOf(s().shape({label:s().string.isRequired,actionId:s().string.isRequired,subjects:s().array.isRequired})),isFormDisabled:s().bool.isRequired,kind:s().string.isRequired};const _o=(0,t.memo)(ct),ea=(0,C.default)(M.Box)`
  overflow-x: auto;
`,on=({isFormDisabled:o,kind:e,layout:{actions:n,subjects:r}})=>{const i=oe()([...r],"label");return t.createElement(ea,{background:"neutral0"},t.createElement(_o,{actions:n,kind:e,isFormDisabled:o}),t.createElement(Uo,{actions:n,isFormDisabled:o,pathToData:e,subjects:i}))};on.propTypes={isFormDisabled:s().bool.isRequired,kind:s().string.isRequired,layout:s().shape({actions:s().array,subjects:s().arrayOf(s().shape({uid:s().string.isRequired,label:s().string.isRequired,properties:s().array.isRequired}))}).isRequired};const an=(0,t.memo)(on);var ta=a(64564);const rn=({children:o,value:e})=>t.createElement(ta.$l.Provider,{value:e},o);rn.propTypes={children:s().node.isRequired,value:s().exact({availableConditions:s().array.isRequired,modifiedData:s().object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:s().func.isRequired,onChangeConditions:s().func.isRequired,onChangeSimpleCheckbox:s().func.isRequired,onChangeParentCheckbox:s().func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:s().func.isRequired}).isRequired};const na=rn;var dt=a(12001),sn=a(78330),ln=a(52111),oa=Object.defineProperty,aa=Object.defineProperties,ra=Object.getOwnPropertyDescriptors,cn=Object.getOwnPropertySymbols,sa=Object.prototype.hasOwnProperty,ia=Object.prototype.propertyIsEnumerable,dn=(o,e,n)=>e in o?oa(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,la=(o,e)=>{for(var n in e||(e={}))sa.call(e,n)&&dn(o,n,e[n]);if(cn)for(var n of cn(e))ia.call(e,n)&&dn(o,n,e[n]);return o},ca=(o,e)=>aa(o,ra(e));const da=(o,e,n)=>o.map(r=>{const i=[...n,r.action,"properties","enabled"],l=(0,h.get)(e,i,!1),c=(0,h.get)(e,[...n,r.action,"conditions"],{}),d=Ye(c).some(g=>g);return ca(la({},r),{isDisplayed:l,checkboxName:i.join(".."),hasSomeActionsSelected:l,value:l,hasConditions:d,label:r.displayName,actionId:r.action,pathToConditionsObject:[...n,r.action]})}),ua=o=>{const e=Object.entries(o).reduce((r,i)=>{const[l,{conditions:c}]=i;return r[l]=c,r},{});return Ye(e).some(r=>r)};var ut=function(){return window&&window.strapi&&window.strapi.isEE?a(37582).Z:a(95204).Z}(),pa=C.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],function(o){var e=o.theme;return e.colors.neutral150}),ma=C.default.div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"sc-akgczm-1"})(["position:relative;word-break:keep-all;",""],function(o){var e=o.hasConditions,n=o.disabled,r=o.theme;return e&&`
    &:before {
      content: '';
      position: absolute;
      top: `.concat(-4/16,`rem;
      left: `).concat(-8/16,`rem;
      width: `).concat(6/16,`rem;
      height: `).concat(6/16,`rem;
      border-radius: `).concat(20/16,`rem;
      background: `).concat(n?r.colors.neutral100:r.colors.primary600,`;
    }
  `)}),un=function(e){var n=e.categoryName,r=e.isFormDisabled,i=e.subCategoryName,l=e.actions,c=e.pathToData,d=(0,t.useState)(!1),g=(0,G.Z)(d,2),f=g[0],E=g[1],S=(0,q.$_)(),L=S.modifiedData,z=S.onChangeParentCheckbox,D=S.onChangeSimpleCheckbox,I=(0,Z.useIntl)(),A=I.formatMessage,O=ue()(L,c,{}),N=(0,t.useMemo)(function(){return Object.keys(O).reduce(function(ce,Pe){return ce[Pe]=rt(O[Pe]),ce},{})},[O]),_=He(N),fe=_.hasAllActionsSelected,le=_.hasSomeActionsSelected,ye=function(){E(function(Pe){return!Pe})},be=function(){E(!1)},ve=da(l,L,c),Xe=ua(ue()(L,(0,H.Z)(c),{}));return t.createElement(t.Fragment,null,t.createElement(M.Box,null,t.createElement(k.Flex,{justifyContent:"space-between",alignItems:"center"},t.createElement(M.Box,{paddingRight:4},t.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},i)),t.createElement(pa,null),t.createElement(M.Box,{paddingLeft:4},t.createElement(ln.Checkbox,{name:c.join(".."),disabled:r||ut,onValueChange:function(Pe){z({target:{name:c.join(".."),value:Pe}})},indeterminate:le,value:fe},A({id:"app.utils.select-all",defaultMessage:"Select all"})))),t.createElement(k.Flex,{paddingTop:6,paddingBottom:6},t.createElement(sn.Grid,{gap:2,style:{flex:1}},ve.map(function(ce){var Pe=ce.checkboxName,te=ce.value,me=ce.action,he=ce.displayName,Ae=ce.hasConditions;return t.createElement(sn.GridItem,{col:3,key:me},t.createElement(ma,{disabled:r||ut,hasConditions:Ae},t.createElement(ln.Checkbox,{name:Pe,disabled:r||ut,onValueChange:function(Ke){D({target:{name:Pe,value:Ke}})},value:te},he)))})),t.createElement(Se,{hasConditions:Xe,onClick:ye}))),f&&t.createElement(Tt,{headerBreadCrumbs:[n,i],actions:ve,isFormDisabled:r,onClosed:be,onToggle:ye}))};un.propTypes={actions:s().array.isRequired,categoryName:s().string.isRequired,isFormDisabled:s().bool.isRequired,subCategoryName:s().string.isRequired,pathToData:s().array.isRequired};const ga=un,pt=({childrenForm:o,kind:e,name:n,isOpen:r,isFormDisabled:i,isWhite:l,onOpenCategory:c,pathToData:d})=>{const{formatMessage:g}=(0,Z.useIntl)(),f=()=>{c(n)},E=(0,t.useMemo)(()=>n.split("::").pop(),[n]);return t.createElement(dt.Accordion,{expanded:r,onToggle:f,id:`accordion-${n}`,variant:l?"primary":"secondary"},t.createElement(dt.AccordionToggle,{title:$()(E),description:`${g({id:"Settings.permissions.category"},{category:E})} ${e==="plugins"?"plugin":e}`}),t.createElement(dt.AccordionContent,null,t.createElement(M.Box,{padding:6},o.map(({actions:S,subCategoryName:L,subCategoryId:z})=>t.createElement(ga,{key:L,actions:S,categoryName:E,isFormDisabled:i,subCategoryName:L,pathToData:[...d,z]})))))};pt.defaultProps={},pt.propTypes={childrenForm:s().array.isRequired,isOpen:s().bool.isRequired,isFormDisabled:s().bool.isRequired,isWhite:s().bool.isRequired,kind:s().string.isRequired,name:s().string.isRequired,onOpenCategory:s().func.isRequired,pathToData:s().array.isRequired};const fa=pt,pn=({isFormDisabled:o,kind:e,layout:n})=>{const[r,i]=(0,t.useState)(null),l=c=>{i(c===r?null:c)};return t.createElement(M.Box,{padding:6,background:"neutral0"},n.map(({category:c,categoryId:d,childrenForm:g},f)=>t.createElement(fa,{key:c,childrenForm:g,kind:e,isFormDisabled:o,isOpen:r===c,isWhite:f%2===1,name:c,onOpenCategory:l,pathToData:[e,d]})))};pn.propTypes={isFormDisabled:s().bool.isRequired,kind:s().string.isRequired,layout:s().arrayOf(s().shape({category:s().string.isRequired,categoryId:s().string.isRequired,childrenForm:s().arrayOf(s().shape({actions:s().array.isRequired})).isRequired}).isRequired).isRequired};const mn=pn,gn=(o,e,n)=>o.find(r=>r.action===e&&r.subject===n);var ya=Object.defineProperty,ha=Object.defineProperties,va=Object.getOwnPropertyDescriptors,fn=Object.getOwnPropertySymbols,Ca=Object.prototype.hasOwnProperty,Ea=Object.prototype.propertyIsEnumerable,yn=(o,e,n)=>e in o?ya(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,hn=(o,e)=>{for(var n in e||(e={}))Ca.call(e,n)&&yn(o,n,e[n]);if(fn)for(var n of fn(e))Ea.call(e,n)&&yn(o,n,e[n]);return o},vn=(o,e)=>ha(o,va(e));const Cn=(o,e=[])=>o.reduce((n,r)=>(n[r.id]=e.indexOf(r.id)!==-1,n),{}),En=({children:o},e,n="")=>o.reduce((r,i)=>{if(i.children)return vn(hn({},r),{[i.value]:En(i,e,`${n}${i.value}.`)});const l=e.indexOf(`${n}${i.value}`)!==-1;return r[i.value]=l,r},{}),ba=(o,e,n)=>o.reduce((r,i)=>{const l=e.properties.find(({value:c})=>c===i);if(l){const c=(0,h.get)(n,["properties",l.value],[]),d=En(l,c);r.properties[i]=d}return r},{properties:{}}),Pa=(o,e)=>e.reduce((n,r)=>{const i=o.find(({uid:l})=>l===r)||null;return i&&(n[r]=i),n},{}),bn=({subjects:o},e,n,r=[])=>e.reduce((i,l)=>{const c=l.subjects,d=Pa(o,c);if((0,h.isEmpty)(d))return i;const g=Object.keys(d).reduce((f,E)=>{const{actionId:S,applyToProperties:L}=l,I=d[E].properties.map(({value:_})=>_).every(_=>(L||[]).indexOf(_)===-1),A=gn(r,S,E),O=Cn(n,(0,h.get)(A,"conditions",[]));if((0,h.isEmpty)(L)||I)return(0,h.set)(f,[E,S],{properties:{enabled:A!==void 0},conditions:O}),f;const N=ba(L,d[E],A);return(0,h.set)(f,[E,S],vn(hn({},N),{conditions:O})),f},{});return(0,h.merge)(i,g)},{}),Aa=(o,e,n)=>o.reduce((r,i)=>{const l=gn(n,i.action,null);return r[i.action]={properties:{enabled:l!==void 0},conditions:Cn(e,(0,h.get)(l,"conditions",[]))},r},{}),Ta=(o,e,n)=>o.reduce((r,i)=>(r[i.subCategoryId]=Aa(i.actions,e,n),r),{}),Pn=(o,e,n=[])=>o.reduce((r,{categoryId:i,childrenForm:l})=>{const c=Ta(l,e,n);return r[i]=c,r},{}),An=o=>o.split(" ").join("-"),Tn=(o,e)=>(0,h.chain)(o).groupBy(e).map((n,r)=>({category:r,categoryId:An(r),childrenForm:(0,h.chain)(n).groupBy("subCategory").map((i,l)=>({subCategoryName:l,subCategoryId:An(l),actions:i})).value()})).value(),Sa=(o,e)=>{const{conditions:n,sections:{collectionTypes:r,singleTypes:i,plugins:l,settings:c}}=o,d={collectionTypes:r,singleTypes:i,plugins:Tn(l,"plugin"),settings:Tn(c,"category")},g={collectionTypes:bn(r,r.actions||[],n,e),singleTypes:bn(i,i.actions||[],n,e),plugins:Pn(d.plugins,n,e),settings:Pn(d.settings,n,e)};return{initialData:g,modifiedData:g,layouts:d}};var Oa=Object.defineProperty,Ra=Object.defineProperties,Da=Object.getOwnPropertyDescriptors,Sn=Object.getOwnPropertySymbols,xa=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,On=(o,e,n)=>e in o?Oa(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,mt=(o,e)=>{for(var n in e||(e={}))xa.call(e,n)&&On(o,n,e[n]);if(Sn)for(var n of Sn(e))Ia.call(e,n)&&On(o,n,e[n]);return o},gt=(o,e)=>Ra(o,Da(e));const Rn=o=>Object.keys(o).reduce((e,n)=>{const r=o[n];if((0,h.isObject)(r)&&!(0,h.has)(r,"conditions"))return gt(mt({},e),{[n]:Rn(r)});if((0,h.isObject)(r)&&(0,h.has)(r,"conditions")&&!Ye((0,h.omit)(r,"conditions")).some(l=>l)){const l=Object.keys(r.conditions).reduce((c,d)=>(c[d]=!1,c),{});return gt(mt({},e),{[n]:gt(mt({},r),{conditions:l})})}return e[n]=r,e},{}),ft=Rn;var La=Object.defineProperty,Ma=Object.defineProperties,Fa=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Ba=Object.prototype.hasOwnProperty,wa=Object.prototype.propertyIsEnumerable,xn=(o,e,n)=>e in o?La(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,ja=(o,e)=>{for(var n in e||(e={}))Ba.call(e,n)&&xn(o,n,e[n]);if(Dn)for(var n of Dn(e))wa.call(e,n)&&xn(o,n,e[n]);return o},Na=(o,e)=>Ma(o,Fa(e));const In=(o,e)=>Object.keys(o).reduce((n,r)=>{const i=o[r];return r==="conditions"?(n[r]=i,n):(0,h.isObject)(i)?Na(ja({},n),{[r]:In(i,e)}):(n[r]=e,n)},{}),nt=In;var ka=Object.defineProperty,Wa=Object.defineProperties,$a=Object.getOwnPropertyDescriptors,Ln=Object.getOwnPropertySymbols,Va=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Mn=(o,e,n)=>e in o?ka(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,Ua=(o,e)=>{for(var n in e||(e={}))Va.call(e,n)&&Mn(o,n,e[n]);if(Ln)for(var n of Ln(e))Za.call(e,n)&&Mn(o,n,e[n]);return o},Ga=(o,e)=>Wa(o,$a(e));const Ka={initialData:{},modifiedData:{},layouts:{}},Ha=(o,e)=>(0,ae.default)(o,n=>{switch(e.type){case"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX":{const{collectionTypeKind:r,actionId:i,value:l}=e,c=["modifiedData",r];Object.keys((0,h.get)(o,c)).forEach(d=>{const g=(0,h.get)(o,[...c,d,i],void 0);if(g){let f=nt(g,l);if(!l&&f.conditions){const E=nt(f.conditions,!1);f=Ga(Ua({},f),{conditions:E})}(0,h.set)(n,[...c,d,i],f)}});break}case"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX":{const{pathToCollectionType:r,propertyName:i,rowName:l,value:c}=e;let d=(0,h.cloneDeep)(o.modifiedData);const g=r.split(".."),f=(0,h.get)(d,g,{});Object.keys(f).forEach(E=>{if((0,h.has)(f[E],`properties.${i}`)){const S=(0,h.get)(f,[E,"properties",i,l]),L=[...g,E,"properties",i,l];if(!(0,h.isObject)(S))(0,h.set)(d,L,c);else{const z=nt(S,c);(0,h.set)(d,L,z)}}}),c||(d=ft(d)),(0,h.set)(n,"modifiedData",d);break}case"ON_CHANGE_CONDITIONS":{Object.entries(e.conditions).forEach(r=>{const[i,l]=r;(0,h.set)(n,["modifiedData",...i.split(".."),"conditions"],l)});break}case"ON_CHANGE_SIMPLE_CHECKBOX":{let r=(0,h.cloneDeep)(o.modifiedData);(0,h.set)(r,[...e.keys.split("..")],e.value),e.value||(r=ft(r)),(0,h.set)(n,"modifiedData",r);break}case"ON_CHANGE_TOGGLE_PARENT_CHECKBOX":{const{keys:r,value:i}=e,l=[...r.split("..")];let c=(0,h.cloneDeep)(o.modifiedData);const d=(0,h.get)(c,l,{}),g=nt(d,i);(0,h.set)(c,l,g),i||(c=ft(c)),(0,h.set)(n,["modifiedData"],c);break}case"RESET_FORM":{n.modifiedData=o.initialData;break}case"SET_FORM_AFTER_SUBMIT":{n.initialData=o.modifiedData;break}default:return n}}),yt=o=>Object.entries(o).filter(([,e])=>e).map(([e])=>e),Xa=o=>{const[e,{conditions:n}]=o;return{action:e,subject:null,conditions:yt(n),properties:{}}},za=o=>Object.values(o).reduce((e,n)=>{const r=Object.entries(n).reduce((i,l)=>{const[,{properties:{enabled:c}}]=l;if(!c)return i;const d=Xa(l);return i.push(d),i},[]);return[...e,...r]},[]),Fn=o=>Object.values(o).reduce((e,n)=>{const r=za(n);return[...e,...r]},[]),Bn=(o,e="")=>Object.entries(o).reduce((n,r)=>{const[i,l]=r;return(0,h.isObject)(l)?[...n,...Bn(l,`${e}${i}.`)]:(l&&!(0,h.isObject)(l)&&n.push(`${e}${i}`),n)},[]),Ya=(o,e,{conditions:n,properties:r})=>Object.entries(r).reduce((i,l)=>{const[c,d]=l;return i.properties[c]=Bn(d),i},{action:o,subject:e,conditions:yt(n),properties:{}}),Qa=(o,e,{conditions:n})=>({action:o,subject:e,properties:{},conditions:yt(n)}),Ja=(o,e)=>Object.entries(e).reduce((r,i)=>{const[l,c]=i;if(!Ye(c).some(f=>f))return r;if(!(0,h.has)(c,"properties.enabled")){const f=Ya(l,o,c);return[...r,f]}if(!c.properties.enabled)return r;const g=Qa(l,o,c);return r.push(g),r},[]),wn=o=>Object.entries(o).reduce((n,r)=>{const[i,l]=r,c=Ja(i,l);return[...n,...c]},[]),qa=o=>{const e=Fn(o.plugins),n=Fn(o.settings),r=wn(o.collectionTypes),i=wn(o.singleTypes);return[...e,...n,...r,...i]},_a=[{labelId:"app.components.LeftMenuLinkContainer.collectionTypes",defaultMessage:"Collection Types",id:"collectionTypes"},{labelId:"app.components.LeftMenuLinkContainer.singleTypes",id:"singleTypes",defaultMessage:"Single Types"},{labelId:"app.components.LeftMenuLinkContainer.plugins",defaultMessage:"Plugins",id:"plugins"},{labelId:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings",id:"settings"}];var er=Object.defineProperty,jn=Object.getOwnPropertySymbols,tr=Object.prototype.hasOwnProperty,nr=Object.prototype.propertyIsEnumerable,Nn=(o,e,n)=>e in o?er(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,kn=(o,e)=>{for(var n in e||(e={}))tr.call(e,n)&&Nn(o,n,e[n]);if(jn)for(var n of jn(e))nr.call(e,n)&&Nn(o,n,e[n]);return o};const ht=(0,t.forwardRef)(({layout:o,isFormDisabled:e,permissions:n},r)=>{const[{initialData:i,layouts:l,modifiedData:c},d]=(0,t.useReducer)(Ha,Ka,()=>Sa(o,n)),{formatMessage:g}=(0,Z.useIntl)();(0,t.useImperativeHandle)(r,()=>({getPermissions:()=>{const D=(0,w.difference)(i.collectionTypes,c.collectionTypes),I=(0,w.difference)(i.singleTypes,c.singleTypes),A=kn(kn({},D),I);let O;return Fe()(A)?O=!1:O=Object.values(A).some(N=>Object.values(N).some(_=>Ee()(_,"conditions"))),{permissionsToSend:qa(c),didUpdateConditions:O}},resetForm:()=>{d({type:"RESET_FORM"})},setFormAfterSubmit:()=>{d({type:"SET_FORM_AFTER_SUBMIT"})}}));const f=(D,I,A,O)=>{d({type:"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX",pathToCollectionType:D,propertyName:I,rowName:A,value:O})},E=(D,I,A)=>{d({type:"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX",collectionTypeKind:D,actionId:I,value:A})},S=D=>{d({type:"ON_CHANGE_CONDITIONS",conditions:D})},L=(0,t.useCallback)(({target:{name:D,value:I}})=>{d({type:"ON_CHANGE_SIMPLE_CHECKBOX",keys:D,value:I})},[]),z=(0,t.useCallback)(({target:{name:D,value:I}})=>{d({type:"ON_CHANGE_TOGGLE_PARENT_CHECKBOX",keys:D,value:I})},[]);return t.createElement(na,{value:{availableConditions:o.conditions,modifiedData:c,onChangeConditions:S,onChangeSimpleCheckbox:L,onChangeParentCheckbox:z,onChangeCollectionTypeLeftActionRowCheckbox:f,onChangeCollectionTypeGlobalActionCheckbox:E}},t.createElement(V.TabGroup,{id:"tabs",label:g({id:"Settings.permissions.users.tabs.label",defaultMessage:"Tabs Permissions"})},t.createElement(V.Tabs,null,_a.map(D=>t.createElement(V.Tab,{key:D.id},g({id:D.labelId,defaultMessage:D.defaultMessage})))),t.createElement(V.TabPanels,{style:{position:"relative"}},t.createElement(V.TabPanel,null,t.createElement(an,{layout:l.collectionTypes,kind:"collectionTypes",isFormDisabled:e})),t.createElement(V.TabPanel,null,t.createElement(an,{layout:l.singleTypes,kind:"singleTypes",isFormDisabled:e})),t.createElement(V.TabPanel,null,t.createElement(mn,{layout:l.plugins,kind:"plugins",isFormDisabled:e})),t.createElement(V.TabPanel,null,t.createElement(mn,{layout:l.settings,kind:"settings",isFormDisabled:e})))))});ht.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}},ht.propTypes={layout:s().object,isFormDisabled:s().bool.isRequired,permissions:s().array};const or=(0,t.memo)(ht)},95204:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!0},6214:(Q,T,a)=>{a.d(T,{Z:()=>t});const t=()=>"todo empty role"},2892:(Q,T,a)=>{a.d(T,{Z:()=>Te});var t=a(32735),v=a(60216),s=a.n(v),w=a(9808),V=a.n(w),Ce=a(19192),Ee=a.n(Ce),ne=a(53214),Fe=a.n(ne),Z=a(95602),M=a.n(Z),C=a(20763),se=a.n(C),oe=a(10938),G=a.n(oe),K=a(5636),$e=a.n(K),Ve=Object.defineProperty,De=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,ke=(q,R,W)=>R in q?Ve(q,R,{enumerable:!0,configurable:!0,writable:!0,value:W}):q[R]=W,ue=(q,R)=>{for(var W in R||(R={}))de.call(R,W)&&ke(q,W,R[W]);if(De)for(var W of De(R))k.call(R,W)&&ke(q,W,R[W]);return q};const xe=({id:q,name:R,description:W,usersCount:ee,icons:We})=>{const{formatMessage:Be}=(0,K.useIntl)(),Se=Be({id:"Roles.RoleRow.user-count",defaultMessage:"{number, plural, =0 {#  user} one {#  user} other {# users}}"},{number:ee});return t.createElement(ne.Tr,ue({key:q},(0,oe.onRowClick)({fn:We[1].onClick})),t.createElement(ne.Td,{maxWidth:(0,oe.pxToRem)(130)},t.createElement(Z.Typography,{ellipsis:!0,textColor:"neutral800"},R)),t.createElement(ne.Td,{maxWidth:(0,oe.pxToRem)(250)},t.createElement(Z.Typography,{ellipsis:!0,textColor:"neutral800"},W)),t.createElement(ne.Td,null,t.createElement(Z.Typography,{textColor:"neutral800"},Se)),t.createElement(ne.Td,null,t.createElement(Ce.Flex,ue({justifyContent:"flex-end"},oe.stopPropagation),We.map((Ie,we)=>Ie?t.createElement(w.Box,{key:Ie.label,paddingLeft:we===0?0:1},t.createElement(C.IconButton,{onClick:Ie.onClick,label:Ie.label,noBorder:!0,icon:Ie.icon})):null))))};xe.propTypes={id:s().number.isRequired,name:s().string.isRequired,description:s().string.isRequired,usersCount:s().number.isRequired,icons:s().array.isRequired};const Te=xe},10333:(Q,T,a)=>{a.d(T,{Z:()=>Ne});var t=a(32735),v=a(10938),s=a(79613),w=a(58469),V=a(59290),Ce=a.n(V),Ee=a(76470),ne=a.n(Ee),Fe=a(95717),Z=a.n(Fe),M=a(68192),C=a.n(M),se=a(44526),oe=a(11856),G=a(53214),K=a(95602),$e=a(16540),Ve=a(28004),De=a(5636),de=a(5141),k=a(2892),ke=a(6214),ue=a(60216),xe=a.n(ue),Te=a(19615),q=a(64410),R=a(54742),W=a(20763),ee=a(74064),We=a(9808),Be=a(19192),Se=a(90662),Ie=a(82372),we=a.n(Ie),Ue=a(94009),Le=a.n(Ue),b=a(378),ae=a(19337);const F=Te.default.div`
  position: absolute;
  z-index: 3;
  inset: 0;
  background: ${({theme:p})=>(0,v.setHexOpacity)(p.colors.neutral800,.2)};
  padding: 0 ${({theme:p})=>p.spaces[8]};
`,B=(0,Te.default)(Be.Flex)`
  position: relative;
  max-width: ${830/16}rem;
  height: ${415/16}rem;
  margin: 0 auto;
  overflow: hidden;
  margin-top: 10%;
  padding-left: ${64/16}rem;

  img:first-of-type {
    position: absolute;
    right: 0;
    top: 0;
    max-width: ${360/16}rem;
  }

  img:not(:first-of-type) {
    width: ${130/16}rem;
    margin-left: 12%;
    margin-right: ${20/16}rem;
    z-index: 0;
  }
`,re=(0,Te.default)(Se.Stack)`
  align-items: flex-start;
  max-width: ${400/16}rem;
  z-index: 0;
`,$=(0,Te.default)(We.Box)`
  position: absolute;
  right: ${({theme:p})=>p.spaces[4]};
  top: ${({theme:p})=>p.spaces[4]};
`,pe=({onClose:p,isOpen:y})=>{(0,v.useLockScroll)(y);const{formatMessage:m}=(0,De.useIntl)();return y?t.createElement(q.Portal,null,t.createElement(F,{onClick:p},t.createElement(R.FocusTrap,{onEscape:p},t.createElement(B,{onClick:P=>P.stopPropagation(),"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:!0},t.createElement("img",{src:b,alt:"air-balloon"}),t.createElement($,null,t.createElement(W.IconButton,{onClick:p,"aria-label":"Close",icon:t.createElement(Le(),null)})),t.createElement(re,{spacing:6},t.createElement(K.Typography,{fontWeight:"bold",textColor:"primary600"},m({id:"app.components.UpgradePlanModal.text-ce",defaultMessage:"COMMUNITY EDITION"})),t.createElement(Se.Stack,{spacing:2},t.createElement(K.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},m({id:"app.components.UpgradePlanModal.limit-reached",defaultMessage:"You have reached the limit"})),t.createElement(K.Typography,null,m({id:"app.components.UpgradePlanModal.text-power",defaultMessage:"Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition"}))),t.createElement(ee.LinkButton,{href:"https://strapi.io/pricing-self-hosted",endIcon:t.createElement(we(),null)},m({id:"app.components.UpgradePlanModal.button",defaultMessage:"Learn more"}))),t.createElement("img",{src:ae,alt:"upgrade-arrow"}))))):null};pe.propTypes={onClose:xe().func.isRequired,isOpen:xe().bool.isRequired};const H=pe;var x=a(28492);const U=()=>{const{roles:p,isLoading:y}=(0,x.bF)(),m=(0,v.useQuery)(),P=decodeURIComponent(m.get("_q")||""),u=(0,w.ZP)(p,P,{keys:["name","description"]});return{isLoading:y,sortedRoles:u}},ge=()=>{const{formatMessage:p}=(0,De.useIntl)(),[y,m]=(0,t.useState)(!1),{trackUsage:P}=(0,v.useTracking)(),{push:u}=(0,de.useHistory)(),X=(0,t.useCallback)(ie=>{u(`/settings/roles/${ie}`)},[u]),Y=(0,t.useCallback)(()=>{m(ie=>!ie)},[]),j=(0,t.useCallback)(()=>{P("didShowRBACUpgradeModal"),m(!0)},[P]),J=(0,t.useCallback)(ie=>[{onClick:Y,label:p({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:t.createElement(C(),null)},{onClick:()=>X(ie.id),label:p({id:"app.utils.edit",defaultMessage:"Edit"}),icon:t.createElement(Z(),null)},{onClick:Y,label:p({id:"global.delete",defaultMessage:"Delete"}),icon:t.createElement(ne(),null)}],[p,Y,X]);return{isModalOpen:y,handleToggleModalForCreatingRole:j,handleToggle:Y,getIcons:J}},je=()=>{const{formatMessage:p}=(0,De.useIntl)();(0,v.useFocusWhenNavigate)();const{sortedRoles:y,isLoading:m}=U(),{isModalOpen:P,handleToggle:u,handleToggleModalForCreatingRole:X,getIcons:Y}=ge(),j=y.length+1,J=5;return t.createElement($e.Main,null,t.createElement(v.SettingsPageTitle,{name:"Roles"}),t.createElement(oe.HeaderLayout,{primaryAction:t.createElement(se.Button,{onClick:X,startIcon:t.createElement(Ce(),null),size:"L"},p({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})),title:p({id:"global.roles",defaultMessage:"roles"}),subtitle:p({id:"Settings.roles.list.description",defaultMessage:"List of roles"})}),t.createElement(oe.ContentLayout,null,t.createElement(G.Table,{colCount:J,rowCount:j,footer:t.createElement(G.TFooter,{onClick:X,icon:t.createElement(Ce(),null)},p({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"}))},t.createElement(G.Thead,null,t.createElement(G.Tr,null,t.createElement(G.Th,null,t.createElement(K.Typography,{variant:"sigma",textColor:"neutral600"},p({id:"global.name",defaultMessage:"Name"}))),t.createElement(G.Th,null,t.createElement(K.Typography,{variant:"sigma",textColor:"neutral600"},p({id:"global.description",defaultMessage:"Description"}))),t.createElement(G.Th,null,t.createElement(K.Typography,{variant:"sigma",textColor:"neutral600"},p({id:"global.users",defaultMessage:"Users"}))),t.createElement(G.Th,null,t.createElement(Ve.VisuallyHidden,null,p({id:"global.actions",defaultMessage:"Actions"}))))),t.createElement(G.Tbody,null,y==null?void 0:y.map(ie=>t.createElement(k.Z,{key:ie.id,id:ie.id,name:ie.name,description:ie.description,usersCount:ie.usersCount,icons:Y(ie)})))),!j&&!m&&t.createElement(ke.Z,null)),t.createElement(H,{isOpen:P,onClose:u}))},Ne=()=>t.createElement(v.CheckPagePermissions,{permissions:s.Z.settings.roles.main},t.createElement(je,null))},23027:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=[]},97971:(Q,T,a)=>{a.d(T,{Z:()=>Le});var t=a(32735),v=a(53806),s=a.n(v),w=a(10938),V=a(9808),Ce=a(44526),Ee=a(11856),ne=a(78330),Fe=a(16540),Z=a(58434),M=a(19192),C=a(90662),se=a(95602),oe=a(37178),G=a(90353),K=a(98599),$e=a.n(K),Ve=a(83281),De=a(33795),de=a.n(De),k=a(86834),ke=a.n(k),ue=a(5636),xe=a(5141),Te=a(19615),q=a(13806),R=a(28492),W=a(79613),ee=a(5173);const Be=ee.Ry().shape({name:ee.Z_().required(w.translatedErrors.required),description:ee.Z_().required(w.translatedErrors.required)});var Se=a(98399),Ie=(b,ae,F)=>new Promise((B,re)=>{var $=x=>{try{H(F.next(x))}catch(U){re(U)}},pe=x=>{try{H(F.throw(x))}catch(U){re(U)}},H=x=>x.done?B(x.value):Promise.resolve(x.value).then($,pe);H((F=F.apply(b,ae)).next())});const we=Te.default.div`
  border: 1px solid ${({theme:b})=>b.colors.primary200};
  background: ${({theme:b})=>b.colors.primary100};
  padding: ${({theme:b})=>`${b.spaces[2]} ${b.spaces[4]}`};
  color: ${({theme:b})=>b.colors.primary600};
  border-radius: ${({theme:b})=>b.borderRadius};
  font-size: ${12/16}rem;
  font-width: bold;
`,Ue=()=>{const b=(0,w.useNotification)(),{lockApp:ae,unlockApp:F}=(0,w.useOverlayBlocker)(),{formatMessage:B}=(0,ue.useIntl)(),[re,$]=(0,t.useState)(!1),{replace:pe}=(0,xe.useHistory)(),H=(0,t.useRef)(),{trackUsage:x}=(0,w.useTracking)(),U=(0,xe.useRouteMatch)("/settings/roles/duplicate/:id"),ge=de()(U,"params.id",null),{isLoading:Oe,data:je}=(0,R.U_)(),{permissions:Ze,isLoading:Ne}=(0,R.Dq)(ge),p=m=>{ae(),$(!0),x(ge?"willDuplicateRole":"willCreateNewRole"),Promise.resolve((0,w.request)("/admin/roles",{method:"POST",body:m})).then(P=>Ie(void 0,null,function*(){const{permissionsToSend:u}=H.current.getPermissions();return x(ge?"didDuplicateRole":"didCreateNewRole"),P.data.id&&!ke()(u)&&(yield(0,w.request)(`/admin/roles/${P.data.id}/permissions`,{method:"PUT",body:{permissions:u}})),P})).then(P=>{$(!1),b({type:"success",message:{id:"Settings.roles.created",defaultMessage:"created"}}),pe(`/settings/roles/${P.data.id}`)}).catch(P=>{Se.error(P),$(!1),b({type:"warning",message:{id:"notification.error"}})}).finally(()=>{F()})},y=`${B({id:"Settings.roles.form.created",defaultMessage:"Created"})} ${s()().format("LL")}`;return t.createElement(Fe.Main,null,t.createElement(w.SettingsPageTitle,{name:"Roles"}),t.createElement(Ve.Formik,{initialValues:{name:"",description:y},onSubmit:p,validationSchema:Be,validateOnChange:!1},({handleSubmit:m,values:P,errors:u,handleReset:X,handleChange:Y})=>t.createElement(w.Form,{noValidate:!0},t.createElement(t.Fragment,null,t.createElement(Ee.HeaderLayout,{primaryAction:t.createElement(C.Stack,{horizontal:!0,spacing:2},t.createElement(Ce.Button,{variant:"secondary",onClick:()=>{X(),H.current.resetForm()},size:"L"},B({id:"app.components.Button.reset",defaultMessage:"Reset"})),t.createElement(Ce.Button,{onClick:m,loading:re,size:"L"},B({id:"global.save",defaultMessage:"Save"}))),title:B({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:B({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"}),navigationAction:t.createElement(Z.Link,{startIcon:t.createElement($e(),null),to:"/settings/roles"},B({id:"global.back",defaultMessage:"Back"}))}),t.createElement(Ee.ContentLayout,null,t.createElement(C.Stack,{spacing:6},t.createElement(V.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},t.createElement(C.Stack,{spacing:4},t.createElement(M.Flex,{justifyContent:"space-between"},t.createElement(V.Box,null,t.createElement(V.Box,null,t.createElement(se.Typography,{fontWeight:"bold"},B({id:"global.details",defaultMessage:"Details"}))),t.createElement(V.Box,null,t.createElement(se.Typography,{variant:"pi",textColor:"neutral600"},B({id:"Settings.roles.form.description",defaultMessage:"Name and description of the role"})))),t.createElement(we,null,B({id:"Settings.roles.form.button.users-with-role",defaultMessage:"{number, plural, =0 {# users} one {# user} other {# users}} with this role"},{number:0}))),t.createElement(ne.Grid,{gap:4},t.createElement(ne.GridItem,{col:6},t.createElement(oe.TextInput,{name:"name",error:u.name&&B({id:u.name}),label:B({id:"global.name",defaultMessage:"Name"}),onChange:Y,value:P.name})),t.createElement(ne.GridItem,{col:6},t.createElement(G.Textarea,{label:B({id:"global.description",defaultMessage:"Description"}),name:"description",error:u.description&&B({id:u.description}),onChange:Y},P.description))))),!Oe&&!Ne?t.createElement(V.Box,{shadow:"filterShadow",hasRadius:!0},t.createElement(q.Z,{isFormDisabled:!1,ref:H,permissions:Ze,layout:je})):t.createElement(V.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},t.createElement(w.LoadingIndicatorPage,null))))))))},Le=()=>t.createElement(w.CheckPagePermissions,{permissions:W.Z.settings.roles.create},t.createElement(Ue,null))},10265:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!1},47902:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!1},71231:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!1},38292:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!1},66713:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!1},37582:(Q,T,a)=>{a.d(T,{Z:()=>v});const v=!1},49776:(Q,T,a)=>{a.d(T,{Z:()=>Le});var t=a(32735),v=a(10938),s=a(79613),w=a(59290),V=a.n(w),Ce=a(76470),Ee=a.n(Ce),ne=a(68192),Fe=a.n(ne),Z=a(95717),M=a.n(Z),C=a(44526),se=a(11856),oe=a(28004),G=a(16540),K=a(53214),$e=a(95602),Ve=a(92891),De=a(58469),de=a(5636),k=a(5141),ke=a(81999),ue=a(28492),xe=a(6214),Te=a(2892),q=a(49415);const R={roleToDelete:null,showModalConfirmButtonLoading:!1,shouldRefetchData:!1},ee=(b,ae)=>(0,q.default)(b,F=>{switch(ae.type){case"ON_REMOVE_ROLES":{F.showModalConfirmButtonLoading=!0;break}case"ON_REMOVE_ROLES_SUCCEEDED":{F.shouldRefetchData=!0,F.roleToDelete=null;break}case"RESET_DATA_TO_DELETE":{F.shouldRefetchData=!1,F.roleToDelete=null,F.showModalConfirmButtonLoading=!1;break}case"SET_ROLE_TO_DELETE":{F.roleToDelete=ae.id;break}default:return F}});var We=(b,ae,F)=>new Promise((B,re)=>{var $=x=>{try{H(F.next(x))}catch(U){re(U)}},pe=x=>{try{H(F.throw(x))}catch(U){re(U)}},H=x=>x.done?B(x.value):Promise.resolve(x.value).then($,pe);H((F=F.apply(b,ae)).next())});const Be=()=>{(0,v.useFocusWhenNavigate)();const{isLoading:b,allowedActions:{canCreate:ae,canDelete:F,canRead:B,canUpdate:re}}=(0,v.useRBAC)(s.Z.settings.roles),{getData:$,roles:pe,isLoading:H}=(0,ue.bF)(!1),[{query:x}]=(0,v.useQueryParams)(),U=(x==null?void 0:x._q)||"",ge=(0,De.ZP)(pe,U,{keys:["name","description"]});return(0,t.useEffect)(()=>{!b&&B&&$()},[b,B,$]),{isLoadingForPermissions:b,canCreate:ae,canDelete:F,canRead:B,canUpdate:re,isLoading:H,getData:$,sortedRoles:ge,roles:pe}},Se=({getData:b,canCreate:ae,canDelete:F,canUpdate:B})=>{const{formatMessage:re}=(0,de.useIntl)(),$=(0,v.useNotification)(),[pe,H]=(0,t.useState)(!1),{push:x}=(0,k.useHistory)(),[{selectedRoles:U,showModalConfirmButtonLoading:ge,roleToDelete:Oe},je]=(0,t.useReducer)(ee,R),Ze=()=>We(void 0,null,function*(){try{je({type:"ON_REMOVE_ROLES"}),yield ke.be.post("/admin/roles/batch-delete",{ids:[Oe]}),yield b(),je({type:"RESET_DATA_TO_DELETE"})}catch(j){const J=(0,Ve.get)(j,["response","payload","data","ids"],null);if(J&&Array.isArray(J)){const ie=J.join(`
`);$({type:"warning",message:ie})}else $({type:"warning",message:{id:"notification.error"}})}m()}),Ne=(0,t.useCallback)(j=>{x(`/settings/roles/duplicate/${j}`)},[x]),p=()=>x("/settings/roles/new"),y=(0,t.useCallback)(j=>{je({type:"SET_ROLE_TO_DELETE",id:j}),m()},[]),m=()=>H(j=>!j),P=(0,t.useCallback)(j=>{x(`/settings/roles/${j}`)},[x]),u=(0,t.useCallback)((j,J)=>{j.preventDefault(),j.stopPropagation(),J.usersCount?$({type:"info",message:{id:"Roles.ListPage.notification.delete-not-allowed"}}):y(J.id)},[$,y]),X=(0,t.useCallback)((j,J)=>{j.preventDefault(),j.stopPropagation(),Ne(J.id)},[Ne]),Y=(0,t.useCallback)(j=>[...ae?[{onClick:J=>X(J,j),label:re({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:t.createElement(Fe(),null)}]:[],...B?[{onClick:()=>P(j.id),label:re({id:"app.utils.edit",defaultMessage:"Edit"}),icon:t.createElement(M(),null)}]:[],...F?[{onClick:J=>u(J,j),label:re({id:"global.delete",defaultMessage:"Delete"}),icon:t.createElement(Ee(),null)}]:[]],[re,u,X,P,ae,B,F]);return{handleNewRoleClick:p,getIcons:Y,selectedRoles:U,isWarningDeleteAllOpened:pe,showModalConfirmButtonLoading:ge,handleToggleModal:m,handleDeleteData:Ze}},we=()=>{const{formatMessage:b}=(0,de.useIntl)(),{isLoadingForPermissions:ae,canCreate:F,canRead:B,canDelete:re,canUpdate:$,isLoading:pe,getData:H,sortedRoles:x}=Be(),{handleNewRoleClick:U,getIcons:ge,isWarningDeleteAllOpened:Oe,showModalConfirmButtonLoading:je,handleToggleModal:Ze,handleDeleteData:Ne}=Se({getData:H,canCreate:F,canDelete:re,canUpdate:$}),p=x.length+1,y=6;if(ae)return t.createElement(G.Main,null,t.createElement(v.LoadingIndicatorPage,null));const m=b({id:"global.roles",defaultMessage:"roles"});return t.createElement(G.Main,null,t.createElement(v.SettingsPageTitle,{name:"Roles"}),t.createElement(se.HeaderLayout,{primaryAction:F?t.createElement(C.Button,{onClick:U,startIcon:t.createElement(V(),null),size:"L"},b({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null,title:m,subtitle:b({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),as:"h2"}),B&&t.createElement(se.ActionLayout,{startActions:t.createElement(v.SearchURLQuery,{label:b({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:m})})}),B&&t.createElement(se.ContentLayout,null,t.createElement(K.Table,{colCount:y,rowCount:p,footer:F?t.createElement(K.TFooter,{onClick:U,icon:t.createElement(V(),null)},b({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null},t.createElement(K.Thead,null,t.createElement(K.Tr,null,t.createElement(K.Th,null,t.createElement($e.Typography,{variant:"sigma",textColor:"neutral600"},b({id:"global.name",defaultMessage:"Name"}))),t.createElement(K.Th,null,t.createElement($e.Typography,{variant:"sigma",textColor:"neutral600"},b({id:"global.description",defaultMessage:"Description"}))),t.createElement(K.Th,null,t.createElement($e.Typography,{variant:"sigma",textColor:"neutral600"},b({id:"global.users",defaultMessage:"Users"}))),t.createElement(K.Th,null,t.createElement(oe.VisuallyHidden,null,b({id:"global.actions",defaultMessage:"Actions"}))))),t.createElement(K.Tbody,null,x==null?void 0:x.map(P=>t.createElement(Te.Z,{key:P.id,id:P.id,name:P.name,description:P.description,usersCount:P.usersCount,icons:ge(P)})))),!p&&!pe&&t.createElement(xe.Z,null)),t.createElement(v.ConfirmDialog,{isOpen:Oe,onConfirm:Ne,isConfirmButtonLoading:je,onToggleDialog:Ze}))},Le=()=>t.createElement(v.CheckPagePermissions,{permissions:s.Z.settings.roles.main},t.createElement(we,null))},78251:(Q,T,a)=>{a.d(T,{Z:()=>w});var t=(V,Ce,Ee)=>new Promise((ne,Fe)=>{var Z=se=>{try{C(Ee.next(se))}catch(oe){Fe(oe)}},M=se=>{try{C(Ee.throw(se))}catch(oe){Fe(oe)}},C=se=>se.done?ne(se.value):Promise.resolve(se.value).then(Z,M);C((Ee=Ee.apply(V,Ce)).next())});const w=[...strapi.features.isEnabled(strapi.features.SSO)?[{Component:()=>t(void 0,null,function*(){return yield a.e(302).then(a.bind(a,80482))}),to:"/settings/single-sign-on",exact:!0}]:[]]},378:(Q,T,a)=>{Q.exports=a.p+"c3de6118ef47086ad05c.png"},19337:(Q,T,a)=>{Q.exports=a.p+"bd81ba6c07827282255d.png"}}]);
